<!DOCTYPE html>
<html lang="ru">
<head>
    <!-- –ö–†–ò–¢–ò–ß–ï–°–ö–ò–ï –ú–ï–¢–ê–¢–ï–ì–ò –î–õ–Ø –ù–ê–¢–ò–í–ù–û–ì–û iOS -->
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    
    <!-- –≠–¢–ò –ú–ï–¢–ê–¢–ï–ì–ò –ó–ê–°–¢–ê–í–õ–Ø–Æ–¢ iOS –í–ï–°–¢–ò –°–ï–ë–Ø –ö–ê–ö –ù–ê–¢–ò–í–ù–û–ï –ü–†–ò–õ–û–ñ–ï–ù–ò–ï -->
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="theme-color" content="#1A1F2B">
    
    <title>Dream Lady</title>
    
    <!-- Telegram SDK -->
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    
    <!-- –í–ê–® WAPI -->
    <script src="https://intgr91afda9e057d0c742cda59a22cd5bdf4.listokcrm.ru/wapi/script"></script>
    <div id="listokWidgetContainer"></div>
    
    <!-- –®—Ä–∏—Ñ—Ç—ã -->
    <link href="https://fonts.googleapis.com/css2?family=Cormorant:wght@300;400;500;600&family=Inter:wght@200;300;400;500&display=swap" rel="stylesheet">
    
    <style>
        /* ===== –ê–ë–°–û–õ–Æ–¢–ù–´–ô –†–ï–°–ï–¢ –î–õ–Ø iOS ===== */
        * {
            margin: 0;
            padding: 0;
            -webkit-tap-highlight-color: transparent;
            -webkit-text-size-adjust: 100%;
            -webkit-font-smoothing: antialiased;
            box-sizing: border-box;
        }
        
        /* 1. HTML –∏ BODY –∑–∞–Ω–∏–º–∞—é—Ç –í–ï–°–¨ –≠–ö–†–ê–ù */
        html, body {
            width: 100vw !important;
            height: 100vh !important;
            height: -webkit-fill-available !important;
            overflow: hidden !important;
            position: fixed !important;
            top: 0 !important;
            left: 0 !important;
            margin: 0 !important;
            padding: 0 !important;
        }
        
        /* 2. iOS SAFE AREA */
        @supports (padding: max(0px)) {
            body {
                padding-top: max(0px, env(safe-area-inset-top)) !important;
                padding-bottom: max(0px, env(safe-area-inset-bottom)) !important;
                padding-left: max(0px, env(safe-area-inset-left)) !important;
                padding-right: max(0px, env(safe-area-inset-right)) !important;
            }
        }
        
        /* 3. –ì–õ–ê–í–ù–´–ô –ö–û–ù–¢–ï–ô–ù–ï–† */
        #ios-app-container {
            width: 100% !important;
            height: 100% !important;
            background: #1A1F2B;
            color: #F8F5F2;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            overflow-y: auto;
            -webkit-overflow-scrolling: touch;
        }
        
        /* 4. –í–°–¢–ê–í–¨–¢–ï –°–Æ–î–ê –í–°–ï –í–ê–®–ò –°–¢–ò–õ–ò –ò–ó index.html */
        /* –ü—Ä–æ—Å—Ç–æ —Å–∫–æ–ø–∏—Ä—É–π—Ç–µ –í–ï–°–¨ –≤–∞—à CSS —Å—é–¥–∞ */
        /* –ù–∞—á–∏–Ω–∞—è –æ—Ç :root { ... } –¥–æ –∫–æ–Ω—Ü–∞ –≤—Å–µ—Ö —Å—Ç–∏–ª–µ–π */
        
    </style>
</head>
<body>
    <div id="ios-app-container">
        <!-- –í–°–¢–ê–í–¨–¢–ï –°–Æ–î–ê –í–ï–°–¨ –í–ê–® HTML –ö–û–î –ò–ó index.html -->
        <!-- –ù–∞—á–∏–Ω–∞—è —Å <div class="stars-background"> –¥–æ –≤—Å–µ—Ö –º–æ–¥–∞–ª—å–Ω—ã—Ö –æ–∫–æ–Ω -->
    </div>
    
    <script>
        // ============================================
        // –ù–ê–¢–ò–í–ù–´–ô iOS –†–ï–ñ–ò–ú - –ò–ì–ù–û–†–ò–†–£–ï–ú TELEGRAM UI
        // ============================================
        
        console.log('üì± –ó–ê–ü–£–°–ö –í –ù–ê–¢–ò–í–ù–û–ú iOS –†–ï–ñ–ò–ú–ï');
        
        // 1. –ü–†–ò–ù–£–î–ò–¢–ï–õ–¨–ù–û –°–ö–†–´–í–ê–ï–ú –í–°–ï UI TELEGRAM
        function hideTelegramUI() {
            console.log('üëª –°–∫—Ä—ã–≤–∞–µ–º UI Telegram...');
            
            // –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –∞–±—Å–æ–ª—é—Ç–Ω—ã–µ —Ä–∞–∑–º–µ—Ä—ã
            document.documentElement.style.height = window.innerHeight + 'px';
            document.documentElement.style.overflow = 'hidden';
            
            document.body.style.height = window.innerHeight + 'px';
            document.body.style.overflow = 'hidden';
            document.body.style.position = 'fixed';
            document.body.style.top = '0';
            document.body.style.left = '0';
            document.body.style.width = '100%';
            document.body.style.background = '#1A1F2B';
            
            // –°–∫—Ä—ã–≤–∞–µ–º –≤–æ–∑–º–æ–∂–Ω—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã
            const hideSelectors = [
                '[class*="header"]',
                '[class*="Header"]',
                '[class*="toolbar"]',
                '[class*="Toolbar"]'
            ];
            
            setTimeout(() => {
                hideSelectors.forEach(selector => {
                    const elements = document.querySelectorAll(selector);
                    elements.forEach(el => {
                        el.style.display = 'none';
                        el.style.opacity = '0';
                        el.style.height = '0';
                        el.style.visibility = 'hidden';
                    });
                });
            }, 100);
            
            // –ë–ª–æ–∫–∏—Ä—É–µ–º –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ
            document.addEventListener('touchmove', function(e) {
                if (e.touches.length > 1 || e.scale !== 1) {
                    e.preventDefault();
                }
            }, { passive: false });
            
            // –°–∫—Ä—ã–≤–∞–µ–º –∞–¥—Ä–µ—Å–Ω—É—é —Å—Ç—Ä–æ–∫—É
            setTimeout(() => window.scrollTo(0, 0), 50);
            setTimeout(() => window.scrollTo(0, 1), 150);
            
            console.log('‚úÖ Telegram UI —Å–∫—Ä—ã—Ç');
        }
        
        // 2. –ò–ù–ò–¶–ò–ê–õ–ò–ó–ê–¶–ò–Ø (–µ—Å–ª–∏ –≤ Telegram)
        if (typeof Telegram !== 'undefined' && Telegram.WebApp) {
            console.log('üü¢ –í Telegram WebApp');
            
            // –ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
            Telegram.WebApp.ready();
            
            // –ù–ï –ò–°–ü–û–õ–¨–ó–£–ï–ú expand() - –æ–Ω –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ iOS
            // –í–º–µ—Å—Ç–æ —ç—Ç–æ–≥–æ –∏—Å–ø–æ–ª—å–∑—É–µ–º CSS —Ö–∞–∫–∏
            
            // –û–ø—Ä–µ–¥–µ–ª—è–µ–º iOS
            const isIOS = /iPhone|iPad|iPod/.test(navigator.userAgent) || Telegram.WebApp.platform === 'ios';
            
            if (isIOS) {
                console.log('üì± iOS –æ–±–Ω–∞—Ä—É–∂–µ–Ω, –∑–∞–ø—É—Å–∫–∞–µ–º –Ω–∞—Ç–∏–≤–Ω—ã–π —Ä–µ–∂–∏–º...');
                
                // –°–∫—Ä—ã–≤–∞–µ–º Telegram UI
                hideTelegramUI();
                
                // –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º —Ü–≤–µ—Ç–∞
                Telegram.WebApp.setHeaderColor('#1A1F2B');
                Telegram.WebApp.setBackgroundColor('#1A1F2B');
                
                // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –∫–Ω–æ–ø–∫—É "–ù–∞–∑–∞–¥"
                Telegram.WebApp.BackButton.show();
                Telegram.WebApp.BackButton.onClick(() => {
                    Telegram.WebApp.close();
                });
                
                // –û—Ç–∫–ª—é—á–∞–µ–º —Å–≤–∞–π–ø—ã Telegram
                Telegram.WebApp.disableVerticalSwipes();
                
                console.log('üéØ –ù–∞—Ç–∏–≤–Ω—ã–π iOS —Ä–µ–∂–∏–º –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω');
            }
            
        } else {
            console.warn('‚ö†Ô∏è –ù–µ –≤ Telegram WebApp');
            // –í –±—Ä–∞—É–∑–µ—Ä–µ —Ç–æ–∂–µ –ø—Ä–∏–º–µ–Ω—è–µ–º —Ö–∞–∫–∏
            if (/iPhone|iPad|iPod/.test(navigator.userAgent)) {
                hideTelegramUI();
            }
        }
        
        // 3. –í–°–¢–ê–í–¨–¢–ï –°–Æ–î–ê –í–°–ï –í–ê–®–ò –§–£–ù–ö–¶–ò–ò
        // openLink, openPriceModal, –∏ —Ç.–¥.
        
        // 4. –ó–ê–ì–†–£–ó–ö–ê –°–¢–†–ê–ù–ò–¶–´
        document.addEventListener('DOMContentLoaded', function() {
            console.log('üìÑ DOM –∑–∞–≥—Ä—É–∂–µ–Ω');
            
            // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è WAPI
            if (typeof Listok !== 'undefined') {
                Listok.init({
                    containerId: 'listokWidgetContainer',
                    configId: '91afda9e057d0c742cda59a22cd5bdf4',
                    onAuth: function(userData) {
                        console.log('–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω:', userData);
                    },
                    onLoad: function() {
                        console.log('WAPI –≤–∏–¥–∂–µ—Ç –∑–∞–≥—Ä—É–∂–µ–Ω');
                    }
                });
            }
            
            // –§–∏–Ω–∞–ª—å–Ω—ã–π —Å–∫—Ä–æ–ª–ª
            setTimeout(() => {
                window.scrollTo(0, 0);
                document.body.scrollTop = 0;
            }, 300);
            
            console.log('üöÄ iOS –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –≥–æ—Ç–æ–≤–æ');
        });
        
        // 5. –ü–ï–†–ï–•–í–ê–¢–´–í–ê–ï–ú –û–†–ò–ï–ù–¢–ê–¶–ò–Æ –≠–ö–†–ê–ù–ê
        window.addEventListener('orientationchange', function() {
            setTimeout(() => {
                document.documentElement.style.height = window.innerHeight + 'px';
                document.body.style.height = window.innerHeight + 'px';
                window.scrollTo(0, 0);
            }, 300);
        });
        
        // 6. –ü–ï–†–ï–•–í–ê–¢–´–í–ê–ï–ú –ò–ó–ú–ï–ù–ï–ù–ò–ï –†–ê–ó–ú–ï–†–ê
        window.addEventListener('resize', function() {
            document.documentElement.style.height = window.innerHeight + 'px';
            document.body.style.height = window.innerHeight + 'px';
        });
    </script>
</body>
</html>
