<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    <meta name="telegram:use_fullscreen" content="true">
    
    <title>üå∏ Dream Lady - –≠–ª–∏—Ç–Ω–∞—è —Å—Ç—É–¥–∏—è —Ñ–∏—Ç–Ω–µ—Å–∞ –∏ —Ç–∞–Ω—Ü–µ–≤</title>
    
    <script src="https://telegram.org/js/telegram-web-app.js?2"></script>
    
    <link href="https://fonts.googleapis.com/css2?family=Cormorant:wght@300;400;500;600&family=Inter:wght@200;300;400;500&display=swap" rel="stylesheet">
    
    <style>
        /* –í–ê–® –û–†–ò–ì–ò–ù–ê–õ–¨–ù–´–ô CSS –ë–ï–ó –ò–ó–ú–ï–ù–ï–ù–ò–ô */
        :root {
            --gold: #C6A16E;
            --deep-navy: #1A1F2B;
            --soft-white: #F8F5F2;
            --light-gold: #E8D9C5;
            --graphite: #2A2F3B;
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            -webkit-tap-highlight-color: transparent;
            font-family: 'Inter', sans-serif;
        }
        
        html {
            scroll-behavior: smooth;
        }
        
        body {
            background: var(--deep-navy);
            color: var(--soft-white);
            min-height: 100vh;
            padding: 10px;
            display: block;
            overflow-x: hidden;
            position: relative;
        }
        
        /* –ú–ï–†–¶–ê–Æ–©–ò–ï –ó–í–ï–ó–î–û–ß–ö–ò */
        .stars-background {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -1;
            pointer-events: none;
        }
        
        .star {
            position: absolute;
            background: #C6A16E;
            border-radius: 50%;
            animation: twinkle 3s infinite;
        }
        
        @keyframes twinkle {
            0%, 100% { opacity: 0.3; transform: scale(1); }
            50% { opacity: 1; transform: scale(1.2); }
        }
        
        /* –ì–ª—è–Ω—Ü–µ–≤—ã–µ –ø–µ—Ä–µ–ª–∏–≤—ã */
        .gloss-overlay {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(
                125deg,
                transparent 0%,
                rgba(198, 161, 110, 0.1) 40%,
                rgba(232, 216, 197, 0.2) 50%,
                rgba(198, 161, 110, 0.1) 60%,
                transparent 100%
            );
            z-index: 2;
            pointer-events: none;
        }
        
        /* –ü–û–õ–ù–û–≠–ö–†–ê–ù–ù–û–ï –û–ö–ù–û –î–õ–Ø –í–°–ï–ì–û MINI APPS */
        .fullscreen-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: var(--deep-navy);
            z-index: 2000;
            display: none;
            overflow-y: auto;
            padding: 20px;
            padding-top: 70px;
        }
        
        .fullscreen-overlay.active {
            display: block;
            animation: fadeIn 0.3s ease;
        }
        
        .fullscreen-close {
            position: fixed;
            top: 20px;
            left: 20px;
            background: rgba(198, 161, 110, 0.2);
            border: 1px solid var(--gold);
            color: var(--gold);
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            font-size: 24px;
            font-family: 'Cormorant', serif;
            z-index: 2001;
            backdrop-filter: blur(10px);
            opacity: 0.8;
            transition: all 0.3s ease;
        }
        
        .fullscreen-close:active {
            opacity: 1;
            background: rgba(198, 161, 110, 0.3);
            transform: scale(0.95);
        }
        
        .fullscreen-content {
            max-width: 400px;
            margin: 0 auto;
            padding-bottom: 40px;
        }
        
        .fullscreen-title {
            font-family: 'Cormorant', serif;
            font-size: 28px;
            font-weight: 500;
            color: var(--gold);
            text-align: center;
            margin-bottom: 30px;
            letter-spacing: 1px;
        }
        
        .fullscreen-section {
            margin-bottom: 30px;
        }
        
        .fullscreen-section-title {
            font-family: 'Cormorant', serif;
            font-size: 20px;
            color: var(--gold);
            margin-bottom: 15px;
            text-align: center;
        }
        
        .fullscreen-features {
            background: rgba(198, 161, 110, 0.05);
            border-radius: 15px;
            padding: 20px;
            border: 1px solid rgba(198, 161, 110, 0.2);
            margin-bottom: 20px;
        }
        
        .fullscreen-feature {
            display: flex;
            align-items: flex-start;
            margin-bottom: 15px;
        }
        
        .fullscreen-feature:last-child {
            margin-bottom: 0;
        }
        
        .fullscreen-icon {
            font-size: 24px;
            margin-right: 15px;
            color: var(--gold);
            min-width: 30px;
        }
        
        .fullscreen-text {
            color: var(--light-gold);
            font-size: 15px;
            line-height: 1.4;
        }
        
        .fullscreen-text strong {
            color: var(--gold);
        }
        
        .fullscreen-warning {
            background: rgba(255, 100, 100, 0.1);
            border-radius: 15px;
            padding: 20px;
            border: 1px solid rgba(255, 100, 100, 0.3);
            margin-bottom: 30px;
        }
        
        .fullscreen-warning-title {
            font-family: 'Cormorant', serif;
            font-size: 18px;
            color: #ff6b6b;
            margin-bottom: 10px;
            text-align: center;
        }
        
        .fullscreen-warning-text {
            color: var(--light-gold);
            font-size: 14px;
            line-height: 1.5;
            text-align: center;
        }
        
        .fullscreen-action {
            text-align: center;
            margin-top: 30px;
        }
        
        .fullscreen-button {
            background: linear-gradient(135deg, #C6A16E 0%, #D4AF37 50%, #C6A16E 100%);
            color: var(--deep-navy);
            border: none;
            padding: 16px 30px;
            font-size: 16px;
            font-weight: 600;
            border-radius: 10px;
            cursor: pointer;
            font-family: 'Cormorant', serif;
            text-transform: uppercase;
            letter-spacing: 1px;
            width: 100%;
            box-shadow: 0 6px 0 #8B6B3D;
            transition: all 0.3s ease;
            margin-bottom: 15px;
        }
        
        .fullscreen-button:active {
            transform: translateY(4px);
            box-shadow: 0 2px 0 #8B6B3D;
        }
        
        .fullscreen-note {
            color: var(--light-gold);
            font-size: 13px;
            text-align: center;
            opacity: 0.8;
        }
        
        @keyframes fadeIn {
            from {
                opacity: 0;
            }
            to {
                opacity: 1;
            }
        }
        
        /* –ö–û–ù–¢–ï–ô–ù–ï–† –ú–ï–ù–Æ - –§–ò–ö–°–ò–†–û–í–ê–ù–ù–ê–Ø –®–ò–†–ò–ù–ê */
        .menu-container {
            width: 100%;
            max-width: 400px;
            background: rgba(26, 31, 43, 0.95);
            border-radius: 25px;
            overflow: hidden;
            box-shadow: 0 25px 60px rgba(198, 161, 110, 0.3);
            border: 2px solid var(--gold);
            margin: 0 auto;
            backdrop-filter: blur(10px);
            position: relative;
            z-index: 10;
        }
        
        /* –ë–õ–û–ö –†–ê–°–ü–ò–°–ê–ù–ò–Ø –ù–ê–î –ú–ï–ù–Æ */
        .schedule-notification {
            background: rgba(198, 161, 110, 0.08);
            padding: 15px 20px;
            margin: 10px auto 20px;
            border-radius: 12px;
            border-left: 3px solid var(--gold);
            font-size: 14px;
            color: var(--light-gold);
            backdrop-filter: blur(5px);
            border: 1px solid rgba(198, 161, 110, 0.2);
            max-width: 400px;
            width: 100%;
            text-align: center;
        }
        
        .schedule-notification strong {
            color: var(--gold);
            display: block;
            margin-bottom: 5px;
            font-size: 16px;
            font-family: 'Cormorant', serif;
            font-weight: 500;
            letter-spacing: 1px;
        }
        
        /* –®–ê–ü–ö–ê –° –õ–û–ì–û –í –°–¢–ò–õ–ï –°–ê–ô–¢–ê */
        .header {
            background: transparent;
            color: var(--soft-white);
            padding: 40px 20px 30px;
            text-align: center;
            position: relative;
            border-bottom: 1px solid rgba(198, 161, 110, 0.3);
        }
        
        .logo-container {
            width: 120px;
            height: 120px;
            margin: 0 auto 25px;
            border-radius: 50%;
            border: 3px solid var(--gold);
            background: url('https://274418.selcdn.ru/cv08300-33250f0d-0664-43fc-9dbf-9d89738d114e/uploads/655846/7d01fc01-e9e6-4a45-96e7-1081144bfe47.png') center/contain;
            box-shadow: 0 15px 35px rgba(198, 161, 110, 0.4);
            position: relative;
            overflow: hidden;
            background-color: var(--graphite);
            background-size: 140%;
        }
        
        .logo-container::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, transparent 0%, rgba(198, 161, 110, 0.1) 100%);
        }
        
        h1 {
            font-family: 'Cormorant', serif;
            font-size: 32px;
            font-weight: 300;
            color: var(--gold);
            margin-bottom: 10px;
            letter-spacing: 3px;
            text-transform: uppercase;
            line-height: 1.1;
        }
        
        .subtitle {
            font-size: 13px;
            color: var(--light-gold);
            font-weight: 300;
            line-height: 1.4;
            letter-spacing: 3px;
            text-transform: uppercase;
            margin-top: 15px;
            opacity: 0.9;
        }
        
        /* 3D –ö–ù–û–ü–ö–ò - –û–î–ò–ù–ê–ö–û–í–´–ô –°–¢–ò–õ–¨ –î–õ–Ø –í–°–ï–• –ö–ù–û–ü–û–ö */
        .button-3d {
            position: relative;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 20px 25px;
            font-size: 17px;
            font-weight: 600;
            color: var(--deep-navy);
            text-decoration: none;
            text-transform: uppercase;
            letter-spacing: 1.5px;
            font-family: 'Cormorant', serif;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s ease;
            text-align: center;
            margin: 15px 20px;
            box-shadow: 
                0 8px 0 #8B6B3D,
                0 15px 25px rgba(198, 161, 110, 0.3);
            background: linear-gradient(135deg, #C6A16E 0%, #D4AF37 25%, #F4D483 50%, #D4AF37 75%, #C6A16E 100%);
            background-size: 400% 400%;
            animation: gradientShift 3s ease infinite;
        }
        
        .button-3d:active {
            transform: translateY(4px);
            box-shadow: 
                0 4px 0 #8B6B3D,
                0 8px 15px rgba(198, 161, 110, 0.3);
        }
        
        .button-title {
            font-size: 18px;
            font-weight: 600;
            color: var(--deep-navy);
            letter-spacing: 0.5px;
            font-family: 'Cormorant', serif;
            line-height: 1.2;
        }
        
        @keyframes gradientShift {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }
        
        /* –°–¢–ê–¢–ò–°–¢–ò–ö–ê –ù–ê–ü–†–ê–í–õ–ï–ù–ò–ô */
        .directions-stats {
            display: flex;
            justify-content: space-around;
            padding: 15px 20px;
            background: rgba(198, 161, 110, 0.05);
            margin: 20px;
            border-radius: 12px;
            border: 1px solid rgba(198, 161, 110, 0.2);
        }
        
        .stat-item {
            text-align: center;
        }
        
        .stat-number {
            font-size: 24px;
            font-weight: 300;
            color: var(--gold);
            display: block;
            font-family: 'Cormorant', serif;
            line-height: 1;
        }
        
        .stat-label {
            font-size: 10px;
            color: var(--light-gold);
            text-transform: uppercase;
            letter-spacing: 1px;
            font-weight: 300;
            line-height: 1.2;
            margin-top: 5px;
        }
        
        /* –†–ê–ó–î–ï–õ–ò–¢–ï–õ–¨ */
        .divider {
            height: 1px;
            background: linear-gradient(90deg, transparent, var(--gold) 30%, var(--gold) 70%, transparent);
            margin: 15px 25px;
            opacity: 0.5;
        }
        
        /* –ü–û–î–í–ê–õ */
        .footer {
            text-align: center;
            padding: 20px 20px 15px;
            background: rgba(20, 25, 35, 0.8);
            color: var(--light-gold);
            font-size: 12px;
            line-height: 1.6;
            border-top: 1px solid rgba(198, 161, 110, 0.2);
        }
        
        .footer strong {
            color: var(--gold);
            font-size: 14px;
            font-family: 'Cormorant', serif;
            font-weight: 500;
            display: block;
            margin-bottom: 8px;
            letter-spacing: 1px;
        }
        
        /* –°–û–¶–°–ï–¢–ò –í –ü–û–î–í–ê–õ–ï */
        .social-links {
            display: flex;
            justify-content: center;
            gap: 10px;
            margin: 15px 0;
            flex-wrap: wrap;
        }
        
        .social-link {
            display: flex;
            align-items: center;
            justify-content: center;
            width: 34px;
            height: 34px;
            border-radius: 50%;
            background: rgba(198, 161, 110, 0.1);
            border: 1px solid rgba(198, 161, 110, 0.3);
            color: var(--gold);
            text-decoration: none;
            font-size: 16px;
            transition: all 0.3s ease;
        }
        
        .social-link:hover {
            background: rgba(198, 161, 110, 0.2);
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(198, 161, 110, 0.2);
        }
        
        .social-link:active {
            transform: translateY(0);
        }
        
        /* –ú–û–î–ê–õ–¨–ù–´–ï –û–ö–ù–ê */
        .modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.8);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 1000;
            opacity: 0;
            visibility: hidden;
            transition: opacity 0.3s, visibility 0.3s;
            backdrop-filter: blur(5px);
        }
        
        .modal-overlay.active {
            opacity: 1;
            visibility: visible;
        }
        
        .modal-content {
            background: rgba(26, 31, 43, 0.95);
            border: 2px solid var(--gold);
            border-radius: 20px;
            padding: 25px;
            max-width: 400px;
            width: 90%;
            max-height: 80vh;
            overflow-y: auto;
            position: relative;
            backdrop-filter: blur(10px);
            box-shadow: 0 20px 50px rgba(198, 161, 110, 0.4);
            transform: translateY(20px);
            transition: transform 0.3s;
        }
        
        .modal-overlay.active .modal-content {
            transform: translateY(0);
        }
        
        .modal-close {
            position: absolute;
            top: 15px;
            right: 15px;
            background: rgba(198, 161, 110, 0.2);
            border: 1px solid var(--gold);
            color: var(--gold);
            width: 30px;
            height: 30px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            font-size: 18px;
            font-family: 'Cormorant', serif;
            z-index: 1001;
        }
        
        .modal-title {
            font-family: 'Cormorant', serif;
            font-size: 24px;
            font-weight: 500;
            color: var(--gold);
            text-align: center;
            margin-bottom: 20px;
            letter-spacing: 1px;
            padding-right: 30px;
        }
        
        /* –û–ö–ù–û –¶–ï–ù */
        .price-content {
            font-size: 14px;
            line-height: 1.6;
            color: var(--light-gold);
        }
        
        .price-item {
            margin-bottom: 15px;
            padding-bottom: 15px;
            border-bottom: 1px solid rgba(198, 161, 110, 0.2);
        }
        
        .price-item:last-child {
            border-bottom: none;
            margin-bottom: 0;
            padding-bottom: 0;
        }
        
        .price-title {
            font-size: 18px;
            color: var(--gold);
            font-weight: 500;
            display: block;
            margin-bottom: 5px;
            font-family: 'Cormorant', serif;
        }
        
        .price-desc {
            font-size: 13px;
            color: var(--light-gold);
            line-height: 1.4;
        }
        
        .price-note {
            font-size: 12px;
            color: var(--gold);
            font-style: italic;
            margin-top: 3px;
        }
        
        /* –û–ö–ù–û –ê–ö–¶–ò–ô */
        .stock-content {
            font-size: 14px;
            line-height: 1.6;
            color: var(--light-gold);
            text-align: center;
        }
        
        .stock-info {
            margin-bottom: 20px;
            font-size: 15px;
            color: var(--gold);
            font-family: 'Cormorant', serif;
        }
        
        /* –û–ö–ù–û –ù–ê–ü–†–ê–í–õ–ï–ù–ò–ô */
        .directions-modal-content {
            background: rgba(26, 31, 43, 0.95);
            border: 2px solid var(--gold);
            border-radius: 20px;
            padding: 20px;
            max-width: 420px;
            width: 95%;
            max-height: 85vh;
            overflow-y: auto;
            position: relative;
            backdrop-filter: blur(10px);
            box-shadow: 0 20px 50px rgba(198, 161, 110, 0.4);
            transform: translateY(20px);
            transition: transform 0.3s;
        }
        
        .directions-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 15px;
            margin-top: 15px;
        }
        
        .direction-card-modal {
            background: rgba(198, 161, 110, 0.05);
            border-radius: 12px;
            overflow: hidden;
            border: 1px solid rgba(198, 161, 110, 0.2);
            transition: all 0.3s ease;
        }
        
        .direction-card-modal:hover {
            background: rgba(198, 161, 110, 0.1);
            transform: translateY(-2px);
        }
        
        .direction-image-container {
            position: relative;
            height: 100px;
            overflow: hidden;
        }
        
        .direction-image-modal {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }
        
        .direction-image-overlay {
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            background: rgba(26, 31, 43, 0.8);
            padding: 8px;
            text-align: center;
        }
        
        .direction-image-title {
            font-family: 'Cormorant', serif;
            font-size: 14px;
            font-weight: 500;
            color: var(--gold);
            margin: 0;
        }
        
        .direction-content-modal {
            padding: 12px;
        }
        
        .direction-description-modal {
            font-size: 11px;
            color: var(--light-gold);
            line-height: 1.3;
            margin-bottom: 8px;
        }
        
        .direction-benefits {
            list-style: none;
            padding: 0;
            margin: 0;
            display: flex;
            flex-wrap: wrap;
            gap: 5px;
        }
        
        .direction-benefits li {
            font-size: 9px;
            color: var(--light-gold);
            background: rgba(198, 161, 110, 0.1);
            padding: 2px 6px;
            border-radius: 4px;
            white-space: nowrap;
        }
        
        .benefit-check {
            color: var(--gold);
            margin-right: 3px;
        }
        
        /* –û–ö–ù–û –ó–ê–ü–ò–°–ò */
        .signup-content {
            font-size: 14px;
            line-height: 1.6;
            color: var(--light-gold);
            text-align: center;
        }
        
        .signup-info {
            margin-bottom: 20px;
            font-size: 15px;
            color: var(--gold);
            font-family: 'Cormorant', serif;
        }
        
        .signup-button {
            background: linear-gradient(135deg, #C6A16E 0%, #D4AF37 50%, #C6A16E 100%);
            color: var(--deep-navy);
            border: none;
            padding: 12px 25px;
            font-size: 15px;
            font-weight: 600;
            border-radius: 8px;
            cursor: pointer;
            font-family: 'Cormorant', serif;
            text-transform: uppercase;
            letter-spacing: 1px;
            margin-top: 10px;
            box-shadow: 0 4px 0 #8B6B3D;
            transition: all 0.3s ease;
        }
        
        .signup-button:active {
            transform: translateY(2px);
            box-shadow: 0 2px 0 #8B6B3D;
        }
        
        /* –û–ö–ù–û –¢–ï–°–¢–ê */
        .test-content {
            font-size: 14px;
            line-height: 1.6;
            color: var(--light-gold);
            text-align: center;
        }
        
        .test-info {
            margin-bottom: 20px;
            font-size: 15px;
            color: var(--gold);
            font-family: 'Cormorant', serif;
        }
        
        /* –û–ö–ù–û –ö–û–ù–¢–ê–ö–¢–û–í */
        .contacts-content {
            font-size: 14px;
            line-height: 1.6;
            color: var(--light-gold);
        }
        
        .contact-item {
            margin-bottom: 15px;
            padding-bottom: 15px;
            border-bottom: 1px solid rgba(198, 161, 110, 0.2);
        }
        
        .contact-item:last-child {
            border-bottom: none;
            margin-bottom: 0;
            padding-bottom: 0;
        }
        
        .contact-phone {
            font-size: 18px;
            color: var(--gold);
            font-weight: 500;
            display: block;
            margin-bottom: 5px;
            font-family: 'Cormorant', serif;
        }
        
        .contact-email {
            color: var(--light-gold);
            text-decoration: none;
            display: block;
            margin-bottom: 5px;
        }
        
        .contact-address {
            font-size: 13px;
            line-height: 1.5;
        }
        
        .contact-details {
            font-size: 12px;
            opacity: 0.8;
            margin-top: 10px;
            line-height: 1.4;
        }
        
        /* –û–ö–ù–û –¢–†–ï–ù–ï–†–û–í */
        .trainers-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 15px;
            margin-top: 20px;
        }
        
        .trainer-card {
            text-align: center;
            background: rgba(198, 161, 110, 0.05);
            border-radius: 12px;
            padding: 15px;
            border: 1px solid rgba(198, 161, 110, 0.2);
            transition: all 0.3s ease;
        }
        
        .trainer-card:hover {
            background: rgba(198, 161, 110, 0.1);
            transform: translateY(-2px);
        }
        
        .trainer-photo {
            width: 80px;
            height: 80px;
            border-radius: 50%;
            object-fit: cover;
            border: 2px solid var(--gold);
            margin: 0 auto 10px;
            display: block;
        }
        
        .trainer-name {
            font-family: 'Cormorant', serif;
            font-size: 16px;
            font-weight: 500;
            color: var(--gold);
            margin-bottom: 5px;
        }
        
        .trainer-title {
            font-size: 11px;
            color: var(--light-gold);
            line-height: 1.3;
            opacity: 0.9;
        }
        
        /* –ê–ù–ò–ú–ê–¶–ò–ò */
        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        
        .button-3d {
            animation: fadeInUp 0.5s ease backwards;
        }
        
        .button-3d:nth-child(1) { animation-delay: 0.1s; }
        .button-3d:nth-child(2) { animation-delay: 0.2s; }
        .button-3d:nth-child(3) { animation-delay: 0.3s; }
        .button-3d:nth-child(4) { animation-delay: 0.4s; }
        .button-3d:nth-child(5) { animation-delay: 0.5s; }
        .button-3d:nth-child(6) { animation-delay: 0.6s; }
        .button-3d:nth-child(7) { animation-delay: 0.7s; }
        .button-3d:nth-child(8) { animation-delay: 0.8s; }
        
        /* –ú–ï–î–ò–ê-–ó–ê–ü–†–û–°–´ */
        @media (max-width: 400px) {
            .menu-container {
                max-width: 95%;
                border-radius: 20px;
            }
            
            .schedule-notification {
                max-width: 95%;
            }
            
            .header {
                padding: 30px 15px 20px;
            }
            
            .logo-container {
                width: 100px;
                height: 100px;
                margin-bottom: 20px;
                background-size: 140%;
            }
            
            h1 {
                font-size: 28px;
                letter-spacing: 2px;
            }
            
            .subtitle {
                font-size: 12px;
                letter-spacing: 2px;
            }
            
            .button-3d {
                padding: 18px 20px;
                font-size: 16px;
                margin: 12px 15px;
            }
            
            .button-title {
                font-size: 16px;
            }
            
            .directions-grid {
                grid-template-columns: 1fr;
                gap: 12px;
            }
            
            .trainers-grid {
                grid-template-columns: 1fr;
                gap: 12px;
            }
            
            .trainer-photo {
                width: 70px;
                height: 70px;
            }
            
            .social-link {
                width: 32px;
                height: 32px;
                font-size: 14px;
            }
            
            .fullscreen-close {
                top: 15px;
                left: 15px;
                width: 35px;
                height: 35px;
                font-size: 22px;
            }
            
            .fullscreen-title {
                font-size: 24px;
                margin-bottom: 25px;
            }
            
            .fullscreen-section-title {
                font-size: 18px;
            }
            
            .fullscreen-text {
                font-size: 14px;
            }
        }
        
        /* –î–û–ü–û–õ–ù–ò–¢–ï–õ–¨–ù–´–ô –°–¢–ò–õ–¨ –î–õ–Ø MINI APPS 2.0 */
        .telegram-miniapp-fix {
            min-height: 100vh;
            min-height: -webkit-fill-available;
        }
        
        @supports (-webkit-touch-callout: none) {
            body {
                min-height: 100vh;
                min-height: -webkit-fill-available;
            }
        }
        
        /* =========================================== */
        /* –°–¢–ò–õ–ò –î–õ–Ø –§–ò–¢–ù–ï–°-–¢–†–ï–ö–ï–†–ê (–í –í–ê–®–ï–ú –°–¢–ò–õ–ï) */
        /* =========================================== */
        
        .fitness-tracker-modal {
            max-width: 420px;
            width: 95%;
            max-height: 85vh;
            overflow-y: auto;
            position: relative;
            background: rgba(26, 31, 43, 0.95);
            border: 2px solid var(--gold);
            border-radius: 20px;
            padding: 20px;
            backdrop-filter: blur(10px);
            box-shadow: 0 20px 50px rgba(198, 161, 110, 0.4);
            transform: translateY(20px);
            transition: transform 0.3s;
        }
        
        .tracker-title {
            font-family: 'Cormorant', serif;
            font-size: 24px;
            font-weight: 500;
            color: var(--gold);
            text-align: center;
            margin-bottom: 25px;
            letter-spacing: 1px;
        }
        
        .tracker-status-container {
            background: rgba(198, 161, 110, 0.08);
            border-radius: 12px;
            padding: 15px;
            margin-bottom: 20px;
            border: 1px solid rgba(198, 161, 110, 0.2);
            text-align: center;
        }
        
        .status-text {
            font-size: 14px;
            color: var(--light-gold);
            line-height: 1.4;
        }
        
        .status-text strong {
            color: var(--gold);
        }
        
        .step-counter-large {
            font-size: 72px;
            font-family: 'Cormorant', serif;
            font-weight: 300;
            color: var(--gold);
            text-align: center;
            margin: 20px 0;
            text-shadow: 0 5px 15px rgba(198, 161, 110, 0.5);
            line-height: 1;
        }
        
        .step-label {
            font-size: 16px;
            color: var(--light-gold);
            text-align: center;
            margin-bottom: 10px;
            text-transform: uppercase;
            letter-spacing: 1px;
        }
        
        .stats-container {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 10px;
            margin: 25px 0;
        }
        
        .stat-box {
            background: rgba(198, 161, 110, 0.05);
            border: 1px solid rgba(198, 161, 110, 0.2);
            border-radius: 12px;
            padding: 15px;
            text-align: center;
        }
        
        .stat-value {
            font-size: 20px;
            font-family: 'Cormorant', serif;
            color: var(--gold);
            display: block;
            line-height: 1;
            margin-bottom: 5px;
        }
        
        .stat-label-small {
            font-size: 11px;
            color: var(--light-gold);
            text-transform: uppercase;
            letter-spacing: 1px;
        }
        
        .goal-container {
            margin: 20px 0;
            padding: 15px;
            background: rgba(198, 161, 110, 0.08);
            border-radius: 12px;
            border: 1px solid rgba(198, 161, 110, 0.2);
        }
        
        .goal-text {
            font-size: 14px;
            color: var(--light-gold);
            text-align: center;
            margin-bottom: 10px;
        }
        
        .progress-bar {
            height: 10px;
            background: rgba(198, 161, 110, 0.2);
            border-radius: 5px;
            overflow: hidden;
            margin-bottom: 10px;
        }
        
        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #C6A16E, #D4AF37);
            border-radius: 5px;
            transition: width 0.5s ease;
            width: 0%;
        }
        
        .goal-percentage {
            font-size: 12px;
            color: var(--gold);
            text-align: right;
            font-weight: 500;
        }
        
        .controls-container {
            display: flex;
            justify-content: center;
            gap: 10px;
            margin: 25px 0;
        }
        
        .control-button {
            flex: 1;
            padding: 12px;
            border: none;
            border-radius: 10px;
            font-family: 'Cormorant', serif;
            font-size: 14px;
            font-weight: 600;
            cursor: pointer;
            text-transform: uppercase;
            letter-spacing: 1px;
            transition: all 0.3s ease;
            box-shadow: 0 4px 0 rgba(0, 0, 0, 0.2);
            background: linear-gradient(135deg, #C6A16E 0%, #D4AF37 50%, #C6A16E 100%);
            color: var(--deep-navy);
        }
        
        .control-button:active {
            transform: translateY(2px);
            box-shadow: 0 2px 0 rgba(0, 0, 0, 0.2);
        }
        
        .control-button:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }
        
        .timer-display {
            font-size: 20px;
            color: var(--gold);
            text-align: center;
            margin: 15px 0;
            font-family: 'Cormorant', serif;
            font-weight: 500;
        }
        
        .tracker-info {
            background: rgba(198, 161, 110, 0.08);
            border-radius: 12px;
            padding: 15px;
            margin: 20px 0;
            border: 1px solid rgba(198, 161, 110, 0.2);
            text-align: center;
        }
        
        .tracker-info-text {
            font-size: 13px;
            color: var(--light-gold);
            line-height: 1.5;
        }
        
        .tracker-info-text strong {
            color: var(--gold);
        }
        
        .tracker-warning {
            background: rgba(255, 100, 100, 0.1);
            border-radius: 12px;
            padding: 15px;
            margin: 20px 0;
            border: 1px solid rgba(255, 100, 100, 0.3);
            text-align: center;
        }
        
        .tracker-warning-text {
            font-size: 12px;
            color: var(--light-gold);
            line-height: 1.5;
        }
        
        .tracker-warning-text strong {
            color: #ff6b6b;
        }
        
        .permission-button {
            background: linear-gradient(135deg, #C6A16E 0%, #D4AF37 50%, #C6A16E 100%);
            color: var(--deep-navy);
            border: none;
            padding: 12px 20px;
            font-size: 14px;
            font-weight: 600;
            border-radius: 8px;
            cursor: pointer;
            font-family: 'Cormorant', serif;
            text-transform: uppercase;
            letter-spacing: 1px;
            margin: 10px 0;
            width: 100%;
            box-shadow: 0 4px 0 #8B6B3D;
            transition: all 0.3s ease;
        }
        
        .permission-button:active {
            transform: translateY(2px);
            box-shadow: 0 2px 0 #8B6B3D;
        }
        
        .gps-status {
            text-align: center;
            margin: 10px 0;
            font-size: 13px;
            color: var(--light-gold);
        }
        
        .daily-stats {
            margin-top: 20px;
            padding-top: 20px;
            border-top: 1px solid rgba(198, 161, 110, 0.2);
        }
        
        .daily-stats-title {
            font-family: 'Cormorant', serif;
            font-size: 16px;
            color: var(--gold);
            text-align: center;
            margin-bottom: 10px;
        }
        
        .daily-stats-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 8px;
        }
        
        .daily-stat-item {
            text-align: center;
            padding: 8px;
            background: rgba(198, 161, 110, 0.05);
            border-radius: 8px;
        }
        
        .daily-stat-value {
            font-size: 14px;
            color: var(--gold);
            font-weight: 500;
            display: block;
        }
        
        .daily-stat-label {
            font-size: 9px;
            color: var(--light-gold);
            text-transform: uppercase;
            letter-spacing: 1px;
            margin-top: 2px;
        }
        
        .accuracy-info {
            font-size: 11px;
            color: var(--light-gold);
            text-align: center;
            margin-top: 5px;
            opacity: 0.7;
        }
    </style>
</head>
<body class="telegram-miniapp-fix">
    <!-- –ú–µ—Ä—Ü–∞—é—â–∏–µ –∑–≤–µ–∑–¥–æ—á–∫–∏ -->
    <div class="stars-background" id="stars"></div>
    <div class="gloss-overlay"></div>
        
    <div class="menu-container">
        <!-- –®–ê–ü–ö–ê –í –°–¢–ò–õ–ï –°–ê–ô–¢–ê -->
        <div class="header">
            <div class="logo-container"></div>
            <h1>Dream Lady</h1>
            <div class="subtitle">
                –≠–ª–∏—Ç–Ω–∞—è —Å—Ç—É–¥–∏—è –ø—Ä–µ–æ–±—Ä–∞–∂–µ–Ω–∏—è
            </div>
        </div>
        
        <!-- –°–¢–ê–¢–ò–°–¢–ò–ö–ê –ù–ê–ü–†–ê–í–õ–ï–ù–ò–ô -->
        <div class="directions-stats">
            <div class="stat-item">
                <span class="stat-number">12</span>
                <span class="stat-label">–ù–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–π</span>
            </div>
            <div class="stat-item">
                <span class="stat-number">500+</span>
                <span class="stat-label">–í—ã–ø—É—Å–∫–Ω–∏—Ü</span>
            </div>
            <div class="stat-item">
                <span class="stat-number">5‚òÖ</span>
                <span class="stat-label">–†–µ–π—Ç–∏–Ω–≥</span>
            </div>
        </div>
        
        <!-- –ö–ù–û–ü–ö–ò –í –ù–û–í–û–ú –ü–û–†–Ø–î–ö–ï (–í–ê–® –û–†–ò–ì–ò–ù–ê–õ–¨–ù–´–ô –ü–û–†–Ø–î–û–ö) -->
        <div class="button-3d" onclick="openLink('https://an9655.listokcrm.ru/wapi')">
            <div class="button-title">ü©∞ –õ–∏—á–Ω—ã–π –∫–∞–±–∏–Ω–µ—Ç</div>
        </div>
        
        <div class="button-3d" onclick="openLink('https://dream-lady.com')">
            <div class="button-title">üåê –û—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã–π —Å–∞–π—Ç</div>
        </div>
        
        <div class="button-3d" onclick="openStockModal()">
            <div class="button-title">üéÄ –ê–∫—Ü–∏–∏</div>
        </div>
        
        <div class="button-3d" onclick="openDirectionsModal()">
            <div class="button-title">–ù–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å—Ç—É–¥–∏–∏</div>
        </div>
        
        <div class="button-3d" onclick="openTestModal()">
            <div class="button-title">–ù–∞–π–¥–∏ —Å–≤–æ—ë –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ</div>
        </div>
        
        <div class="button-3d" onclick="openTrainersModal()">
            <div class="button-title">–ù–∞—à–∏ —Ç—Ä–µ–Ω–µ—Ä—ã</div>
        </div>
        
        <div class="button-3d" onclick="openPriceModal()">
            <div class="button-title">–£–∑–Ω–∞—Ç—å —Å—Ç–æ–∏–º–æ—Å—Ç—å</div>
        </div>
        
        <!-- –ö–ù–û–ü–ö–ê –§–ò–¢–ù–ï–°-–¢–†–ï–ö–ï–†–ê (–î–û–ë–ê–í–õ–ï–ù–ê –ü–û–°–õ–ï 5‚òÖ –†–ï–ô–¢–ò–ù–ì–ê) -->
        <div class="button-3d" onclick="openFitnessTracker()">
            <div class="button-title">üèÉ –§–∏—Ç–Ω–µ—Å-—Ç—Ä–µ–∫–µ—Ä</div>
        </div>
        
        <div class="button-3d" onclick="openSignupModal()">
            <div class="button-title">–ó–∞–ø–∏—Å–∞—Ç—å—Å—è –Ω–∞ –∑–∞–Ω—è—Ç–∏—è</div>
        </div>
        
        <div class="button-3d" onclick="openTelegramBotFullscreen()">
            <div class="button-title">ü§ñ Telegram-–±–æ—Ç</div>
        </div>
        
        <div class="button-3d" onclick="openContactsModal()">
            <div class="button-title">–ö–æ–Ω—Ç–∞–∫—Ç—ã</div>
        </div>
        
        <!-- –ü–û–î–í–ê–õ –° –°–û–¶–°–ï–¢–Ø–ú–ò -->
        <div class="footer">
            <strong>DREAM LADY</strong>
            –≠–ª–∏—Ç–Ω–∞—è —Å—Ç—É–¥–∏—è —Ñ–∏—Ç–Ω–µ—Å–∞ –∏ —Ç–∞–Ω—Ü–µ–≤ ¬© 2025<br>
            –°–∞–º–∞—è —Ä–æ—Å–∫–æ—à–Ω–∞—è —Å—Ç—É–¥–∏—è –≥–æ—Ä–æ–¥–∞
            
            <!-- –°–û–¶–°–ï–¢–ò -->
            <div class="social-links">
                <a href="https://t.me/DreamLady_Koroleva" class="social-link" onclick="openLink('https://t.me/DreamLady_Koroleva'); return false;" title="Telegram">
                    <span>‚úàÔ∏è</span>
                </a>
                <a href="https://api.whatsapp.com/send/?phone=79169947368" class="social-link" onclick="openLink('https://api.whatsapp.com/send/?phone=79169947368'); return false;" title="WhatsApp">
                    <span>üì±</span>
                </a>
                <a href="https://vk.com/dream_lady_studio" class="social-link" onclick="openLink('https://vk.com/dream_lady_studio'); return false;" title="–í–ö–æ–Ω—Ç–∞–∫—Ç–µ">
                    <span>VK</span>
                </a>
                <a href="https://ok.ru/group/70000036908725" class="social-link" onclick="openLink('https://ok.ru/group/70000036908725'); return false;" title="–û–¥–Ω–æ–∫–ª–∞—Å—Å–Ω–∏–∫–∏">
                    <span>OK</span>
                </a>
                <a href="https://dzen.ru/dream_lady" class="social-link" onclick="openLink('https://dzen.ru/dream_lady'); return false;" title="–î–∑–µ–Ω">
                    <span>–î</span>
                </a>
                <a href="https://yandex.ru/map-widget/v1/?z=12&ol=biz&oid=86436673865" class="social-link" onclick="openLink('https://yandex.ru/map-widget/v1/?z=12&ol=biz&oid=86436673865'); return false;" title="–Ø–Ω–¥–µ–∫—Å –ö–∞—Ä—Ç—ã">
                    <span>üó∫Ô∏è</span>
                </a>
                <a href="https://www.tiktok.com/@dream_lady_studio?_r=1" class="social-link" onclick="openLink('https://www.tiktok.com/@dream_lady_studio?_r=1'); return false;" title="TikTok">
                    <span>üéµ</span>
                </a>
            </div>
        </div>
    </div>
        <!-- –ë–õ–û–ö –†–ê–°–ü–ò–°–ê–ù–ò–Ø –ü–û–î –ú–ï–ù–Æ -->
    <div class="schedule-notification">
        <strong>üìÖ –†–∞—Å–ø–∏—Å–∞–Ω–∏–µ –∑–∞–Ω—è—Ç–∏–π</strong>
    </div>
    <!-- WAPI –°–ö–†–ò–ü–¢ –ü–û–î –ú–ï–ù–Æ -->
    <script src="https://intgr91afda9e057d0c742cda59a22cd5bdf4.listokcrm.ru/wapi/script"></script>
    <div id="listokWidgetContainer"></div>
    
    <!-- =========================================== -->
    <!-- –û–ö–ù–û –§–ò–¢–ù–ï–°-–¢–†–ï–ö–ï–†–ê (–ù–û–í–û–ï) -->
    <!-- =========================================== -->
    <div id="fitnessTrackerModal" class="modal-overlay">
        <div class="fitness-tracker-modal">
            <div class="modal-close" onclick="closeFitnessTracker()">√ó</div>
            <h2 class="tracker-title">üèÉ –§–∏—Ç–Ω–µ—Å-—Ç—Ä–µ–∫–µ—Ä Dream Lady</h2>
            
            <!-- –°–¢–ê–¢–£–° -->
            <div class="tracker-status-container">
                <div class="status-text" id="statusText">
                    <strong>–ì–æ—Ç–æ–≤ –∫ —Ä–∞–±–æ—Ç–µ!</strong><br>
                    –î–ª—è —Ç–æ—á–Ω–æ–≥–æ –ø–æ–¥—Å—á–µ—Ç–∞ –≤–∫–ª—é—á–∏—Ç–µ GPS
                </div>
            </div>
            
            <!-- –°–ß–ï–¢–ß–ò–ö –®–ê–ì–û–í -->
            <div class="step-label">–®–ê–ì–ò –°–ï–ê–ù–°–ê</div>
            <div class="step-counter-large" id="stepCounter">0</div>
            
            <!-- GPS –°–¢–ê–¢–£–° -->
            <div class="gps-status" id="gpsStatus">
                üìç GPS: –æ–∂–∏–¥–∞–Ω–∏–µ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è
            </div>
            
            <!-- –¢–ê–ô–ú–ï–† -->
            <div class="timer-display" id="timerDisplay">00:00:00</div>
            
            <!-- –°–¢–ê–¢–ò–°–¢–ò–ö–ê -->
            <div class="stats-container">
                <div class="stat-box">
                    <span class="stat-value" id="distanceValue">0.00</span>
                    <span class="stat-label-small">–ö–∏–ª–æ–º–µ—Ç—Ä—ã</span>
                </div>
                <div class="stat-box">
                    <span class="stat-value" id="paceValue">0:00</span>
                    <span class="stat-label-small">–¢–µ–º–ø –º–∏–Ω/–∫–º</span>
                </div>
                <div class="stat-box">
                    <span class="stat-value" id="caloriesValue">0</span>
                    <span class="stat-label-small">–ö–∞–ª–æ—Ä–∏–∏</span>
                </div>
            </div>
            
            <!-- –ö–ù–û–ü–ö–ê –†–ê–ó–†–ï–®–ï–ù–ò–Ø -->
            <div id="permissionSection" style="text-align: center; margin: 20px 0;">
                <button class="permission-button" onclick="requestGeolocationPermission()" id="permissionButton">
                    üìç –í–∫–ª—é—á–∏—Ç—å GPS-—Ç—Ä–µ–∫–∏–Ω–≥
                </button>
                <div class="accuracy-info" id="accuracyInfo">
                    –¢–æ—á–Ω–æ—Å—Ç—å: –æ–∂–∏–¥–∞–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö
                </div>
            </div>
            
            <!-- –ò–ù–§–û–†–ú–ê–¶–ò–Ø -->
            <div class="tracker-info">
                <div class="tracker-info-text">
                    <strong>–†–µ–∂–∏–º GPS-—Ç—Ä–µ–∫–∏–Ω–≥–∞:</strong><br>
                    ‚Ä¢ –î–∏—Å—Ç–∞–Ω—Ü–∏—è —Å—á–∏—Ç–∞–µ—Ç—Å—è –ø–æ —Ä–µ–∞–ª—å–Ω–æ–º—É –ø–µ—Ä–µ–º–µ—â–µ–Ω–∏—é<br>
                    ‚Ä¢ –®–∞–≥–∏ –∫–æ–Ω–≤–µ—Ä—Ç–∏—Ä—É—é—Ç—Å—è –∏–∑ –ø—Ä–æ–π–¥–µ–Ω–Ω–æ–≥–æ —Ä–∞—Å—Å—Ç–æ—è–Ω–∏—è<br>
                    ‚Ä¢ –ö–∞–ª–æ—Ä–∏–∏ —Ä–∞—Å—Å—á–∏—Ç—ã–≤–∞—é—Ç—Å—è –Ω–∞ –æ—Å–Ω–æ–≤–µ –¥–∏—Å—Ç–∞–Ω—Ü–∏–∏
                </div>
            </div>
            
            <!-- –¶–ï–õ–¨ -->
            <div class="goal-container">
                <div class="goal-text">–¶–µ–ª—å —Å–µ–∞–Ω—Å–∞: <strong id="sessionGoal">5.00</strong> –∫–º</div>
                <div class="progress-bar">
                    <div class="progress-fill" id="progressFill"></div>
                </div>
                <div class="goal-percentage" id="goalPercentage">0%</div>
            </div>
            
            <!-- –£–ü–†–ê–í–õ–ï–ù–ò–ï -->
            <div class="controls-container">
                <button class="control-button start" onclick="startTracker()" id="startButton">–°—Ç–∞—Ä—Ç</button>
                <button class="control-button pause" onclick="pauseTracker()" id="pauseButton" disabled>–ü–∞—É–∑–∞</button>
                <button class="control-button reset" onclick="resetTracker()">–°–±—Ä–æ—Å</button>
            </div>
            
            <!-- –î–ù–ï–í–ù–ê–Ø –°–¢–ê–¢–ò–°–¢–ò–ö–ê -->
            <div class="daily-stats">
                <div class="daily-stats-title">–°–µ–≥–æ–¥–Ω—è—à–Ω—è—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞</div>
                <div class="daily-stats-grid">
                    <div class="daily-stat-item">
                        <span class="daily-stat-value" id="totalDistance">0.00</span>
                        <span class="daily-stat-label">–ö–º</span>
                    </div>
                    <div class="daily-stat-item">
                        <span class="daily-stat-value" id="totalTime">0:00</span>
                        <span class="daily-stat-label">–í—Ä–µ–º—è</span>
                    </div>
                    <div class="daily-stat-item">
                        <span class="daily-stat-value" id="totalCalories">0</span>
                        <span class="daily-stat-label">–ö–∫–∞–ª</span>
                    </div>
                </div>
            </div>
            
            <!-- –ü–†–ï–î–£–ü–†–ï–ñ–î–ï–ù–ò–ï -->
            <div class="tracker-warning">
                <div class="tracker-warning-text">
                    <strong>‚ö†Ô∏è –í–ê–ñ–ù–û:</strong> –¢—Ä–µ–∫–µ—Ä —Ä–∞–±–æ—Ç–∞–µ—Ç —Ç–æ–ª—å–∫–æ –ø—Ä–∏ –æ—Ç–∫—Ä—ã—Ç–æ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏!<br>
                    –î–ª—è —Ä–∞–±–æ—Ç—ã GPS –≤—ã–π–¥–∏—Ç–µ –Ω–∞ —É–ª–∏—Ü—É –∏–ª–∏ –æ—Ç–∫—Ä–æ–π—Ç–µ –æ–∫–Ω–æ.<br>
                    –î–∞–Ω–Ω—ã–µ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏.
                </div>
            </div>
        </div>
    </div>
    
    <!-- –ü–û–õ–ù–û–≠–ö–†–ê–ù–ù–û–ï –û–ö–ù–û –î–õ–Ø TELEGRAM-–ë–û–¢–ê (–í–ê–®–ï –û–†–ò–ì–ò–ù–ê–õ–¨–ù–û–ï) -->
    <div id="telegramBotFullscreen" class="fullscreen-overlay">
        <div class="fullscreen-close" onclick="closeFullscreen()">√ó</div>
        
        <div class="fullscreen-content">
            <h2 class="fullscreen-title">ü§ñ Telegram-–±–æ—Ç Dream Team Studio</h2>
            
            <div class="fullscreen-section">
                <div class="fullscreen-features">
                    <div class="fullscreen-feature">
                        <div class="fullscreen-icon">üîî</div>
                        <div class="fullscreen-text">
                            <strong>–ù–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è –æ –∑–∞–Ω—è—Ç–∏—è—Ö:</strong><br>
                            ‚Ä¢ –ó–∞ 3 —á–∞—Å–∞ –¥–æ –Ω–∞—á–∞–ª–∞ –∑–∞–Ω—è—Ç–∏—è<br>
                            ‚Ä¢ –ó–∞ –¥–µ–Ω—å –¥–æ –∑–∞–Ω—è—Ç–∏—è
                        </div>
                    </div>
                    
                    <div class="fullscreen-feature">
                        <div class="fullscreen-icon">üí¨</div>
                        <div class="fullscreen-text">
                            <strong>–°–≤—è–∑—å —Å –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–º:</strong><br>
                            ‚Ä¢ –ó–∞–¥–∞—Ç—å –≤–æ–ø—Ä–æ—Å –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä—É<br>
                            ‚Ä¢ –ü–æ–ª—É—á–∏—Ç—å –∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏—é<br>
                            ‚Ä¢ –†–µ—à–∏—Ç—å –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–æ–Ω–Ω—ã–µ –≤–æ–ø—Ä–æ—Å—ã
                        </div>
                    </div>
                    
                    <div class="fullscreen-feature">
                        <div class="fullscreen-icon">üìÖ</div>
                        <div class="fullscreen-text">
                            <strong>–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–∏</strong><br>
                            ‚Ä¢ –ê–∫—Ç—É–∞–ª—å–Ω–æ–µ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ –∑–∞–Ω—è—Ç–∏–π<br>
                            ‚Ä¢ –ò–∑–º–µ–Ω–µ–Ω–∏—è –≤ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–∏
                        </div>
                    </div>
                    
                    <div class="fullscreen-feature">
                        <div class="fullscreen-icon">‚ÑπÔ∏è</div>
                        <div class="fullscreen-text">
                            <strong>–û—Ç–≤–µ—Ç—ã –Ω–∞ —á–∞—Å—Ç—ã–µ –≤–æ–ø—Ä–æ—Å—ã</strong><br>
                            ‚Ä¢ –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –∑–∞–Ω—è—Ç–∏—è—Ö<br>
                            ‚Ä¢ –ü—Ä–∞–≤–∏–ª–∞ —Å—Ç—É–¥–∏–∏
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="fullscreen-section">
                <div class="fullscreen-warning">
                    <h3 class="fullscreen-warning-title">‚ö†Ô∏è –í–ê–ñ–ù–û –î–õ–Ø –ê–í–¢–û–†–ò–ó–ê–¶–ò–ò</h3>
                    <div class="fullscreen-warning-text">
                        1. –ù–∞–∂–º–∏—Ç–µ <strong>START / –ù–ê–ß–ê–¢–¨</strong> –≤ –±–æ—Ç–µ<br>
                        2. –ü–æ–¥–µ–ª–∏—Ç–µ—Å—å —Å–≤–æ–∏–º –∫–æ–Ω—Ç–∞–∫—Ç–æ–º<br>
                        3. <strong>–ù–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω–∞ –¥–æ–ª–∂–µ–Ω —Å–æ–≤–ø–∞–¥–∞—Ç—å</strong><br>
                           —Å –Ω–æ–º–µ—Ä–æ–º —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ –≤ —Å—Ç—É–¥–∏–∏
                    </div>
                </div>
                
                <p style="color: var(--light-gold); font-size: 14px; text-align: center; margin-bottom: 20px;">
                    –ï—Å–ª–∏ –Ω–æ–º–µ—Ä –Ω–µ —Å–æ–≤–ø–∞–¥–∞–µ—Ç, –æ–±—Ä–∞—Ç–∏—Ç–µ—Å—å –∫ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä—É<br>
                    –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö –≤ —Å–∏—Å—Ç–µ–º–µ
                </p>
            </div>
            
            <div class="fullscreen-action">
                <button class="fullscreen-button" onclick="openTelegramBot()">
                    üì≤ –ü–µ—Ä–µ–π—Ç–∏ –∫ –±–æ—Ç—É @DreamTeamStudio_Bot
                </button>
                <p class="fullscreen-note">
                    –ü–æ—Å–ª–µ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ –≤–µ—Ä–Ω–∏—Ç–µ—Å—å –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
                </p>
            </div>
        </div>
    </div>
    
    <!-- –ú–û–î–ê–õ–¨–ù–û–ï –û–ö–ù–û –¶–ï–ù (–í–ê–®–ï –û–†–ò–ì–ò–ù–ê–õ–¨–ù–û–ï) -->
    <div id="priceModal" class="modal-overlay">
        <div class="modal-content">
            <div class="modal-close" onclick="closePriceModal()">√ó</div>
            <h2 class="modal-title">–°—Ç–æ–∏–º–æ—Å—Ç—å –∑–∞–Ω—è—Ç–∏–π</h2>
            <div class="price-content">
                <div class="price-item">
                    <span class="price-title">–ü—Ä–æ–±–Ω–æ–µ –∑–∞–Ω—è—Ç–∏–µ</span>
                    <span class="price-desc">350‚ÇΩ</span>
                    <span class="price-note">(–¥–æ—Å—Ç—É–ø–Ω–æ –¥–ª—è –Ω–æ–≤—ã—Ö –∫–ª–∏–µ–Ω—Ç–æ–≤)</span>
                </div>
                <div class="price-item">
                    <span class="price-title">–ê–±–æ–Ω–µ–º–µ–Ω—Ç—ã –≥—Ä—É–ø–ø–æ–≤—ã–µ –∑–∞–Ω—è—Ç–∏—è</span>
                    <span class="price-desc">–¥–æ 10 —á–µ–ª–æ–≤–µ–∫:</span>
                </div>
                <div class="price-item">
                    <span class="price-title">4 —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏/–º–µ—Å</span>
                    <span class="price-desc">4,000‚ÇΩ</span>
                </div>
                <div class="price-item">
                    <span class="price-title">8 —Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫/–º–µ—Å</span>
                    <span class="price-desc">5,700‚ÇΩ</span>
                    <span class="price-note">(–ø–æ –ø–æ–¥–ø–∏—Å–∫–µ)</span>
                </div>
                <div class="price-item">
                    <span class="price-title">–ë–µ–∑–ª–∏–º–∏—Ç/–º–µ—Å</span>
                    <span class="price-desc">9,750‚ÇΩ</span>
                    <span class="price-note">(–ø–æ –ø–æ–¥–ø–∏—Å–∫–µ)</span>
                </div>
                <div class="price-item">
                    <span class="price-title">24 —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏/3 –º–µ—Å</span>
                    <span class="price-desc">17,550‚ÇΩ</span>
                    <span class="price-note">(–¥–ª—è –Ω–æ–≤—ã—Ö –∫–ª–∏–µ–Ω—Ç–æ–≤)</span>
                </div>
                <div class="price-item">
                    <span class="price-title">–í —Å—Ç—É–¥–∏–∏ —Ç–∞–∫ –∂–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω—ã:</span>
                    <span class="price-desc">–ü–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–µ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏</span>
                    <span class="price-desc">–°–ø–ª–∏—Ç —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏</span>
                </div>
                <div style="margin-top: 20px; font-size: 14px; color: var(--light-gold); text-align: center;">
                    <p>–°–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ —Ü–µ–Ω—ã –Ω–∞ –∞–±–æ–Ω–µ–º–µ–Ω—Ç—ã –ø–æ –∞–∫—Ü–∏–∏</p>
                    <p>–≤ —Ä–∞–∑–¥–µ–ª–µ "–ê–∫—Ü–∏–∏"</p>
                </div>
                <div style="margin-top: 20px; font-size: 13px; color: var(--light-gold);">
                    <button class="signup-button" onclick="openLink('https://dream-lady.com/price')">–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –Ω–∞ —Å–∞–π—Ç–µ</button>
                </div>
            </div>
        </div>
    </div>
    
    <!-- –í–ê–®–ò –û–°–¢–ê–õ–¨–ù–´–ï –ú–û–î–ê–õ–¨–ù–´–ï –û–ö–ù–ê –û–°–¢–ê–Æ–¢–°–Ø –ë–ï–ó –ò–ó–ú–ï–ù–ï–ù–ò–ô -->
    
<script>
// ============================================
// MINI APPS 2.0: –ü–û–õ–ù–û–≠–ö–†–ê–ù–ù–´–ô –†–ï–ñ–ò–ú
// ============================================

console.log('üöÄ Dream Lady Mini Apps 2.0 –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è...');

// –û–°–ù–û–í–ù–ê–Ø –ò–ù–ò–¶–ò–ê–õ–ò–ó–ê–¶–ò–Ø TELEGRAM
if (typeof Telegram !== 'undefined' && Telegram.WebApp) {
    const tg = Telegram.WebApp;
    
    // 1. –ê–ö–¢–ò–í–ê–¶–ò–Ø
    tg.ready();
    
    // 2. –í–ö–õ–Æ–ß–ê–ï–ú –ü–û–õ–ù–û–≠–ö–†–ê–ù–ù–´–ô –†–ï–ñ–ò–ú
    tg.expand();
    
    // 3. –û–¢–ö–õ–Æ–ß–ê–ï–ú –°–í–ê–ô–ü–´ –í–ù–ò–ó
    tg.disableVerticalSwipes();
    
    // 4. –°–ö–†–´–í–ê–ï–ú –ö–ù–û–ü–ö–£ "–ù–ê–ó–ê–î"
    tg.BackButton.hide();
    
    // 5. –ù–ê–°–¢–†–ê–ò–í–ê–ï–ú –¶–í–ï–¢–ê
    tg.setHeaderColor('#1A1F2B');
    tg.setBackgroundColor('#1A1F2B');
    
    console.log('‚úÖ –ü–æ–ª–Ω–æ—ç–∫—Ä–∞–Ω–Ω—ã–π —Ä–µ–∂–∏–º –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω');
    console.log('üì± –í–µ—Ä—Å–∏—è:', tg.version);
    
} else {
    console.log('üåê –†–µ–∂–∏–º –±—Ä–∞—É–∑–µ—Ä–∞');
}

// ============================================
// –§–£–ù–ö–¶–ò–ò –§–ò–¢–ù–ï–°-–¢–†–ï–ö–ï–†–ê (GPS-–≤–µ—Ä—Å–∏—è)
// ============================================

let trackerState = {
    isTracking: false,
    hasGeolocation: false,
    sessionSteps: 0,
    sessionDistance: 0, // –≤ –º–µ—Ç—Ä–∞—Ö
    sessionCalories: 0,
    startTime: null,
    currentTime: 0,
    timerInterval: null,
    watchId: null,
    routePoints: [],
    lastPosition: null,
    totalSteps: 0,
    totalDistance: 0,
    totalCalories: 0,
    sessionGoal: 5000 // 5 –∫–º –≤ –º–µ—Ç—Ä–∞—Ö
};

// –ö–æ–Ω—Å—Ç–∞–Ω—Ç—ã
const CALCULATIONS = {
    stepLength: 0.67, // —Å—Ä–µ–¥–Ω—è—è –¥–ª–∏–Ω–∞ —à–∞–≥–∞ –∂–µ–Ω—â–∏–Ω—ã
    caloriesPerKm: 60, // –∫–∫–∞–ª –Ω–∞ –∫–º –ø—Ä–∏ —Ö–æ–¥—å–±–µ
    minDistanceForStep: 0.8 // –º–∏–Ω–∏–º–∞–ª—å–Ω–æ–µ –ø–µ—Ä–µ–º–µ—â–µ–Ω–∏–µ –¥–ª—è —à–∞–≥–∞ (–º–µ—Ç—Ä—ã)
};

// –ó–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö
function loadTrackerData() {
    const saved = localStorage.getItem('dreamLadyFitnessTrackerGPS');
    if (saved) {
        try {
            const data = JSON.parse(saved);
            const today = new Date().toDateString();
            
            if (data.date === today) {
                trackerState.sessionSteps = data.sessionSteps || 0;
                trackerState.sessionDistance = data.sessionDistance || 0;
                trackerState.sessionCalories = data.sessionCalories || 0;
                trackerState.totalSteps = data.totalSteps || 0;
                trackerState.totalDistance = data.totalDistance || 0;
                trackerState.totalCalories = data.totalCalories || 0;
                trackerState.routePoints = data.routePoints || [];
                trackerState.lastPosition = data.lastPosition || null;
                
                // –í–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –≤—Ä–µ–º—è –µ—Å–ª–∏ –±—ã–ª–∞ –∞–∫—Ç–∏–≤–Ω–∞—è —Å–µ—Å—Å–∏—è
                if (data.startTime) {
                    const elapsed = Date.now() - data.startTime;
                    trackerState.currentTime = Math.floor(elapsed / 1000);
                }
            }
        } catch (e) {
            console.error('–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –¥–∞–Ω–Ω—ã—Ö:', e);
        }
    }
    updateTrackerDisplay();
}

// –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö
function saveTrackerData() {
    const data = {
        date: new Date().toDateString(),
        sessionSteps: trackerState.sessionSteps,
        sessionDistance: trackerState.sessionDistance,
        sessionCalories: trackerState.sessionCalories,
        totalSteps: trackerState.totalSteps,
        totalDistance: trackerState.totalDistance,
        totalCalories: trackerState.totalCalories,
        routePoints: trackerState.routePoints,
        lastPosition: trackerState.lastPosition,
        startTime: trackerState.isTracking ? trackerState.startTime : null
    };
    localStorage.setItem('dreamLadyFitnessTrackerGPS', JSON.stringify(data));
}

// –ó–∞–ø—Ä–æ—Å –≥–µ–æ–ª–æ–∫–∞—Ü–∏–∏
function requestGeolocationPermission() {
    const button = document.getElementById('permissionButton');
    button.textContent = '‚åõ –ó–∞–ø—Ä–∞—à–∏–≤–∞—é —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–µ...';
    button.disabled = true;
    
    if (typeof Telegram !== 'undefined' && Telegram.WebApp) {
        Telegram.WebApp.requestLocation().then(granted => {
            if (granted) {
                initGeolocation();
            } else {
                showPermissionDenied();
            }
        }).catch(error => {
            console.error('–û—à–∏–±–∫–∞ –∑–∞–ø—Ä–æ—Å–∞ –≥–µ–æ–ª–æ–∫–∞—Ü–∏–∏:', error);
            showPermissionDenied();
        });
    } else {
        // –î–ª—è –±—Ä–∞—É–∑–µ—Ä–∞
        if (navigator.geolocation) {
            navigator.geolocation.getCurrentPosition(
                () => initGeolocation(),
                () => showPermissionDenied(),
                { enableHighAccuracy: true, timeout: 5000 }
            );
        } else {
            showPermissionDenied();
        }
    }
}

// –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –≥–µ–æ–ª–æ–∫–∞—Ü–∏–∏
function initGeolocation() {
    trackerState.hasGeolocation = true;
    document.getElementById('gpsStatus').textContent = 'üìç GPS: –∞–∫—Ç–∏–≤–µ–Ω';
    document.getElementById('permissionButton').style.display = 'none';
    document.getElementById('accuracyInfo').textContent = '–¢–æ—á–Ω–æ—Å—Ç—å: –≤—ã—Å–æ–∫–∞—è';
    
    if (trackerState.isTracking) {
        startGeoTracking();
    }
}

// –ü–æ–∫–∞–∑ –æ—à–∏–±–∫–∏ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è
function showPermissionDenied() {
    document.getElementById('gpsStatus').textContent = 'üìç GPS: –¥–æ—Å—Ç—É–ø –∑–∞–ø—Ä–µ—â–µ–Ω';
    document.getElementById('permissionButton').textContent = 'üìç –ü–æ–≤—Ç–æ—Ä–∏—Ç—å –∑–∞–ø—Ä–æ—Å';
    document.getElementById('permissionButton').disabled = false;
    document.getElementById('accuracyInfo').textContent = '–î–ª—è —Ç–æ—á–Ω–æ–≥–æ —Ç—Ä–µ–∫–∏–Ω–≥–∞ –Ω—É–∂–µ–Ω GPS';
}

// –ó–∞–ø—É—Å–∫ GPS-—Ç—Ä–µ–∫–∏–Ω–≥–∞
function startGeoTracking() {
    if (!trackerState.hasGeolocation || !navigator.geolocation) return;
    
    const options = {
        enableHighAccuracy: true,
        maximumAge: 3000,
        timeout: 10000
    };
    
    trackerState.watchId = navigator.geolocation.watchPosition(
        handlePositionUpdate,
        handlePositionError,
        options
    );
}

// –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –ø–æ–∑–∏—Ü–∏–∏
function handlePositionUpdate(position) {
    const accuracy = position.coords.accuracy;
    const isGoodAccuracy = accuracy < 25; // –•–æ—Ä–æ—à–∞—è —Ç–æ—á–Ω–æ—Å—Ç—å
    
    // –û–±–Ω–æ–≤–ª—è–µ–º –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ —Ç–æ—á–Ω–æ—Å—Ç–∏
    let accuracyText = '–¢–æ—á–Ω–æ—Å—Ç—å: ';
    if (accuracy < 10) accuracyText += '–æ—Ç–ª–∏—á–Ω–∞—è';
    else if (accuracy < 25) accuracyText += '—Ö–æ—Ä–æ—à–∞—è';
    else if (accuracy < 50) accuracyText += '—Å—Ä–µ–¥–Ω—è—è';
    else accuracyText += '–Ω–∏–∑–∫–∞—è';
    accuracyText += ` (${Math.round(accuracy)}–º)`;
    
    document.getElementById('accuracyInfo').textContent = accuracyText;
    
    const newPoint = {
        lat: position.coords.latitude,
        lng: position.coords.longitude,
        accuracy: accuracy,
        timestamp: Date.now()
    };
    
    // –î–æ–±–∞–≤–ª—è–µ–º —Ç–æ—á–∫—É –≤ –º–∞—Ä—à—Ä—É—Ç
    trackerState.routePoints.push(newPoint);
    
    // –†–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ–º –¥–∏—Å—Ç–∞–Ω—Ü–∏—é –µ—Å–ª–∏ –µ—Å—Ç—å –ø—Ä–µ–¥—ã–¥—É—â–∞—è —Ç–æ—á–∫–∞ –∏ —Ö–æ—Ä–æ—à–∞—è —Ç–æ—á–Ω–æ—Å—Ç—å
    if (trackerState.lastPosition && isGoodAccuracy) {
        const distance = calculateDistance(
            trackerState.lastPosition.lat,
            trackerState.lastPosition.lng,
            newPoint.lat,
            newPoint.lng
        );
        
        // –§–∏–ª—å—Ç—Ä—É–µ–º —à—É–º GPS - —É—á–∏—Ç—ã–≤–∞–µ–º —Ç–æ–ª—å–∫–æ –∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω—ã–µ –ø–µ—Ä–µ–º–µ—â–µ–Ω–∏—è
        if (distance > CALCULATIONS.minDistanceForStep) {
            trackerState.sessionDistance += distance;
            trackerState.totalDistance += distance;
            
            // –ö–æ–Ω–≤–µ—Ä—Ç–∏—Ä—É–µ–º –º–µ—Ç—Ä—ã –≤ —à–∞–≥–∏
            const steps = Math.round(distance / CALCULATIONS.stepLength);
            trackerState.sessionSteps += steps;
            trackerState.totalSteps += steps;
            
            // –†–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ–º –∫–∞–ª–æ—Ä–∏–∏
            const newCalories = Math.round((distance / 1000) * CALCULATIONS.caloriesPerKm);
            trackerState.sessionCalories += newCalories;
            trackerState.totalCalories += newCalories;
            
            updateTrackerDisplay();
            saveTrackerData();
        }
    }
    
    trackerState.lastPosition = {
        lat: newPoint.lat,
        lng: newPoint.lng
    };
}

// –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ GPS
function handlePositionError(error) {
    let message = 'üìç GPS: ';
    switch(error.code) {
        case error.PERMISSION_DENIED:
            message += '–¥–æ—Å—Ç—É–ø –∑–∞–ø—Ä–µ—â–µ–Ω';
            trackerState.hasGeolocation = false;
            document.getElementById('permissionButton').style.display = 'block';
            break;
        case error.POSITION_UNAVAILABLE:
            message += '–¥–∞–Ω–Ω—ã–µ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω—ã';
            break;
        case error.TIMEOUT:
            message += '—Ç–∞–π–º–∞—É—Ç –∑–∞–ø—Ä–æ—Å–∞';
            break;
        default:
            message += '–æ—à–∏–±–∫–∞';
            break;
    }
    document.getElementById('gpsStatus').textContent = message;
}

// –†–∞—Å—á–µ—Ç —Ä–∞—Å—Å—Ç–æ—è–Ω–∏—è –º–µ–∂–¥—É —Ç–æ—á–∫–∞–º–∏ (—Ñ–æ—Ä–º—É–ª–∞ –≥–∞–≤–µ—Ä—Å–∏–Ω—É—Å–æ–≤)
function calculateDistance(lat1, lon1, lat2, lon2) {
    const R = 6371000; // –†–∞–¥–∏—É—Å –ó–µ–º–ª–∏ –≤ –º–µ—Ç—Ä–∞—Ö
    const dLat = toRad(lat2 - lat1);
    const dLon = toRad(lon2 - lon1);
    
    const a = Math.sin(dLat/2) * Math.sin(dLat/2) +
              Math.cos(toRad(lat1)) * Math.cos(toRad(lat2)) * 
              Math.sin(dLon/2) * Math.sin(dLon/2);
    
    const c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1-a));
    return R * c;
}

function toRad(degrees) {
    return degrees * (Math.PI/180);
}

// –û—Å–Ω–æ–≤–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ —Ç—Ä–µ–∫–µ—Ä–∞
function openFitnessTracker() {
    document.getElementById('fitnessTrackerModal').classList.add('active');
    loadTrackerData();
    
    if (typeof Telegram !== 'undefined' && Telegram.WebApp) {
        Telegram.WebApp.disableVerticalSwipes();
        Telegram.WebApp.BackButton.show();
        Telegram.WebApp.BackButton.onClick(closeFitnessTracker);
    }
}

function closeFitnessTracker() {
    document.getElementById('fitnessTrackerModal').classList.remove('active');
    if (typeof Telegram !== 'undefined' && Telegram.WebApp) {
        Telegram.WebApp.enableVerticalSwipes();
        Telegram.WebApp.BackButton.hide();
    }
}

function startTracker() {
    if (trackerState.isTracking) return;
    
    trackerState.isTracking = true;
    trackerState.startTime = Date.now() - (trackerState.currentTime * 1000);
    
    // –ó–∞–ø—É—Å–∫–∞–µ–º —Ç–∞–π–º–µ—Ä
    startTimer();
    
    // –ó–∞–ø—É—Å–∫–∞–µ–º GPS –µ—Å–ª–∏ –µ—Å—Ç—å —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–µ
    if (trackerState.hasGeolocation) {
        startGeoTracking();
        document.getElementById('statusText').innerHTML = '<strong>–¢—Ä–µ–∫–∏–Ω–≥ –∞–∫—Ç–∏–≤–µ–Ω!</strong><br>GPS –æ—Ç—Å–ª–µ–∂–∏–≤–∞–µ—Ç –≤–∞—à –º–∞—Ä—à—Ä—É—Ç';
    } else {
        document.getElementById('statusText').innerHTML = '<strong>–¢—Ä–µ–∫–∏–Ω–≥ –∞–∫—Ç–∏–≤–µ–Ω!</strong><br>–í–∫–ª—é—á–∏—Ç–µ GPS –¥–ª—è —Ç–æ—á–Ω–æ–≥–æ –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è';
    }
    
    // –û–±–Ω–æ–≤–ª—è–µ–º UI
    document.getElementById('startButton').disabled = true;
    document.getElementById('pauseButton').disabled = false;
    
    console.log('üèÉ –¢—Ä–µ–∫–µ—Ä –∑–∞–ø—É—â–µ–Ω');
}

function pauseTracker() {
    if (!trackerState.isTracking) return;
    
    trackerState.isTracking = false;
    
    // –û—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º —Ç–∞–π–º–µ—Ä
    stopTimer();
    
    // –û—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º GPS
    if (trackerState.watchId && navigator.geolocation) {
        navigator.geolocation.clearWatch(trackerState.watchId);
        trackerState.watchId = null;
    }
    
    // –°–æ—Ö—Ä–∞–Ω—è–µ–º –¥–∞–Ω–Ω—ã–µ
    saveTrackerData();
    
    // –û–±–Ω–æ–≤–ª—è–µ–º UI
    document.getElementById('statusText').innerHTML = '<strong>–¢—Ä–µ–∫–∏–Ω–≥ –Ω–∞ –ø–∞—É–∑–µ</strong><br>–ù–∞–∂–º–∏—Ç–µ –°—Ç–∞—Ä—Ç –¥–ª—è –ø—Ä–æ–¥–æ–ª–∂–µ–Ω–∏—è';
    document.getElementById('startButton').disabled = false;
    document.getElementById('pauseButton').disabled = true;
    
    console.log('‚è∏ –¢—Ä–µ–∫–µ—Ä –Ω–∞ –ø–∞—É–∑–µ');
}

function resetTracker() {
    if (confirm('–°–±—Ä–æ—Å–∏—Ç—å —Ç–µ–∫—É—â—É—é —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É?')) {
        trackerState.isTracking = false;
        trackerState.sessionSteps = 0;
        trackerState.sessionDistance = 0;
        trackerState.sessionCalories = 0;
        trackerState.startTime = null;
        trackerState.currentTime = 0;
        trackerState.routePoints = [];
        trackerState.lastPosition = null;
        
        // –û—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –≤—Å–µ
        stopTimer();
        if (trackerState.watchId && navigator.geolocation) {
            navigator.geolocation.clearWatch(trackerState.watchId);
            trackerState.watchId = null;
        }
        
        // –°–æ—Ö—Ä–∞–Ω—è–µ–º
        saveTrackerData();
        
        // –û–±–Ω–æ–≤–ª—è–µ–º UI
        updateTrackerDisplay();
        document.getElementById('statusText').innerHTML = '<strong>–ì–æ—Ç–æ–≤ –∫ —Ä–∞–±–æ—Ç–µ!</strong><br>–î–ª—è —Ç–æ—á–Ω–æ–≥–æ –ø–æ–¥—Å—á–µ—Ç–∞ –≤–∫–ª—é—á–∏—Ç–µ GPS';
        document.getElementById('startButton').disabled = false;
        document.getElementById('pauseButton').disabled = true;
        
        console.log('üîÑ –¢—Ä–µ–∫–µ—Ä —Å–±—Ä–æ—à–µ–Ω');
    }
}

// –¢–∞–π–º–µ—Ä
function startTimer() {
    if (trackerState.timerInterval) clearInterval(trackerState.timerInterval);
    
    trackerState.timerInterval = setInterval(() => {
        trackerState.currentTime = Math.floor((Date.now() - trackerState.startTime) / 1000);
        updateTimerDisplay();
        saveTrackerData();
    }, 1000);
}

function stopTimer() {
    if (trackerState.timerInterval) {
        clearInterval(trackerState.timerInterval);
        trackerState.timerInterval = null;
    }
}

// –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞
function updateTrackerDisplay() {
    // –®–∞–≥–∏
    document.getElementById('stepCounter').textContent = trackerState.sessionSteps.toLocaleString();
    
    // –î–∏—Å—Ç–∞–Ω—Ü–∏—è –≤ –∫–º
    const distanceKm = (trackerState.sessionDistance / 1000).toFixed(2);
    document.getElementById('distanceValue').textContent = distanceKm;
    
    // –¢–µ–º–ø (–º–∏–Ω/–∫–º)
    let pace = '0:00';
    if (trackerState.sessionDistance > 0 && trackerState.currentTime > 0) {
        const paceSeconds = (trackerState.currentTime * 1000) / (trackerState.sessionDistance / 1000);
        const paceMinutes = Math.floor(paceSeconds / 60);
        const paceSecs = Math.floor(paceSeconds % 60);
        pace = `${paceMinutes}:${paceSecs.toString().padStart(2, '0')}`;
    }
    document.getElementById('paceValue').textContent = pace;
    
    // –ö–∞–ª–æ—Ä–∏–∏
    document.getElementById('caloriesValue').textContent = trackerState.sessionCalories;
    
    // –¶–µ–ª—å —Å–µ–∞–Ω—Å–∞
    document.getElementById('sessionGoal').textContent = (trackerState.sessionGoal / 1000).toFixed(2);
    const progress = Math.min((trackerState.sessionDistance / trackerState.sessionGoal) * 100, 100);
    document.getElementById('progressFill').style.width = progress + '%';
    document.getElementById('goalPercentage').textContent = Math.round(progress) + '%';
    
    // –û–±—â–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
    document.getElementById('totalDistance').textContent = (trackerState.totalDistance / 1000).toFixed(2);
    document.getElementById('totalTime').textContent = formatTime(trackerState.currentTime);
    document.getElementById('totalCalories').textContent = trackerState.totalCalories;
}

function updateTimerDisplay() {
    const hours = Math.floor(trackerState.currentTime / 3600);
    const minutes = Math.floor((trackerState.currentTime % 3600) / 60);
    const seconds = trackerState.currentTime % 60;
    
    document.getElementById('timerDisplay').textContent = 
        `${hours.toString().padStart(2, '0')}:${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;
}

function formatTime(seconds) {
    const hours = Math.floor(seconds / 3600);
    const minutes = Math.floor((seconds % 3600) / 60);
    
    if (hours > 0) {
        return `${hours}:${minutes.toString().padStart(2, '0')}`;
    }
    return `${minutes}:${(seconds % 60).toString().padStart(2, '0')}`;
}

// ============================================
// –í–ê–®–ò –û–†–ò–ì–ò–ù–ê–õ–¨–ù–´–ï –§–£–ù–ö–¶–ò–ò (–ë–ï–ó –ò–ó–ú–ï–ù–ï–ù–ò–ô)
// ============================================

function openLink(url) {
    if (typeof Telegram !== 'undefined' && Telegram.WebApp) {
        Telegram.WebApp.openLink(url);
    } else {
        window.open(url, '_blank');
    }
}

function openTelegramBotFullscreen() {
    document.getElementById('telegramBotFullscreen').classList.add('active');
    if (typeof Telegram !== 'undefined' && Telegram.WebApp) {
        Telegram.WebApp.disableVerticalSwipes();
        Telegram.WebApp.BackButton.show();
        Telegram.WebApp.BackButton.onClick(function() {
            closeFullscreen();
        });
    }
}

function closeFullscreen() {
    document.getElementById('telegramBotFullscreen').classList.remove('active');
    if (typeof Telegram !== 'undefined' && Telegram.WebApp) {
        Telegram.WebApp.enableVerticalSwipes();
        Telegram.WebApp.BackButton.hide();
    }
}

function openPriceModal() {
    document.getElementById('priceModal').classList.add('active');
    if (typeof Telegram !== 'undefined' && Telegram.WebApp) {
        Telegram.WebApp.disableVerticalSwipes();
        Telegram.WebApp.BackButton.show();
        Telegram.WebApp.BackButton.onClick(closePriceModal);
    }
}

function closePriceModal() {
    document.getElementById('priceModal').classList.remove('active');
    if (typeof Telegram !== 'undefined' && Telegram.WebApp) {
        Telegram.WebApp.enableVerticalSwipes();
        Telegram.WebApp.BackButton.hide();
    }
}

function openStockModal() {
    document.getElementById('stockModal').classList.add('active');
    if (typeof Telegram !== 'undefined' && Telegram.WebApp) {
        Telegram.WebApp.disableVerticalSwipes();
        Telegram.WebApp.BackButton.show();
        Telegram.WebApp.BackButton.onClick(closeStockModal);
    }
}

function closeStockModal() {
    document.getElementById('stockModal').classList.remove('active');
    if (typeof Telegram !== 'undefined' && Telegram.WebApp) {
        Telegram.WebApp.enableVerticalSwipes();
        Telegram.WebApp.BackButton.hide();
    }
}

function openDirectionsModal() {
    document.getElementById('directionsModal').classList.add('active');
    if (typeof Telegram !== 'undefined' && Telegram.WebApp) {
        Telegram.WebApp.disableVerticalSwipes();
        Telegram.WebApp.BackButton.show();
        Telegram.WebApp.BackButton.onClick(closeDirectionsModal);
    }
}

function closeDirectionsModal() {
    document.getElementById('directionsModal').classList.remove('active');
    if (typeof Telegram !== 'undefined' && Telegram.WebApp) {
        Telegram.WebApp.enableVerticalSwipes();
        Telegram.WebApp.BackButton.hide();
    }
}

function openSignupModal() {
    document.getElementById('signupModal').classList.add('active');
    if (typeof Telegram !== 'undefined' && Telegram.WebApp) {
        Telegram.WebApp.disableVerticalSwipes();
        Telegram.WebApp.BackButton.show();
        Telegram.WebApp.BackButton.onClick(closeSignupModal);
    }
}

function closeSignupModal() {
    document.getElementById('signupModal').classList.remove('active');
    if (typeof Telegram !== 'undefined' && Telegram.WebApp) {
        Telegram.WebApp.enableVerticalSwipes();
        Telegram.WebApp.BackButton.hide();
    }
}

function openTestModal() {
    document.getElementById('testModal').classList.add('active');
    if (typeof Telegram !== 'undefined' && Telegram.WebApp) {
        Telegram.WebApp.disableVerticalSwipes();
        Telegram.WebApp.BackButton.show();
        Telegram.WebApp.BackButton.onClick(closeTestModal);
    }
}

function closeTestModal() {
    document.getElementById('testModal').classList.remove('active');
    if (typeof Telegram !== 'undefined' && Telegram.WebApp) {
        Telegram.WebApp.enableVerticalSwipes();
        Telegram.WebApp.BackButton.hide();
    }
}

function openContactsModal() {
    document.getElementById('contactsModal').classList.add('active');
    if (typeof Telegram !== 'undefined' && Telegram.WebApp) {
        Telegram.WebApp.disableVerticalSwipes();
        Telegram.WebApp.BackButton.show();
        Telegram.WebApp.BackButton.onClick(closeContactsModal);
    }
}

function closeContactsModal() {
    document.getElementById('contactsModal').classList.remove('active');
    if (typeof Telegram !== 'undefined' && Telegram.WebApp) {
        Telegram.WebApp.enableVerticalSwipes();
        Telegram.WebApp.BackButton.hide();
    }
}

function openTrainersModal() {
    document.getElementById('trainersModal').classList.add('active');
    if (typeof Telegram !== 'undefined' && Telegram.WebApp) {
        Telegram.WebApp.disableVerticalSwipes();
        Telegram.WebApp.BackButton.show();
        Telegram.WebApp.BackButton.onClick(closeTrainersModal);
    }
}

function closeTrainersModal() {
    document.getElementById('trainersModal').classList.remove('active');
    if (typeof Telegram !== 'undefined' && Telegram.WebApp) {
        Telegram.WebApp.enableVerticalSwipes();
        Telegram.WebApp.BackButton.hide();
    }
}

// –ó–∞–∫—Ä—ã—Ç–∏–µ –º–æ–¥–∞–ª—å–Ω—ã—Ö –æ–∫–æ–Ω –ø—Ä–∏ –∫–ª–∏–∫–µ –Ω–∞ —Ñ–æ–Ω
document.querySelectorAll('.modal-overlay').forEach(modal => {
    modal.addEventListener('click', function(e) {
        if (e.target === this) {
            if (this.id === 'priceModal') closePriceModal();
            else if (this.id === 'stockModal') closeStockModal();
            else if (this.id === 'directionsModal') closeDirectionsModal();
            else if (this.id === 'signupModal') closeSignupModal();
            else if (this.id === 'testModal') closeTestModal();
            else if (this.id === 'contactsModal') closeContactsModal();
            else if (this.id === 'trainersModal') closeTrainersModal();
            else if (this.id === 'fitnessTrackerModal') closeFitnessTracker();
        }
    });
});

// –í—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏
function createStars() {
    const starsContainer = document.getElementById('stars');
    const starsCount = 160;
    
    for (let i = 0; i < starsCount; i++) {
        const star = document.createElement('div');
        star.className = 'star';
        
        const size = Math.random() * 2 + 1;
        const posX = Math.random() * 100;
        const posY = Math.random() * 100;
        const delay = Math.random() * 3;
        
        star.style.width = `${size}px`;
        star.style.height = `${size}px`;
        star.style.left = `${posX}%`;
        star.style.top = `${posY}%`;
        star.style.animationDelay = `${delay}s`;
        
        starsContainer.appendChild(star);
    }
}

function initWapiAuth() {
    if (typeof Listok !== 'undefined') {
        Listok.init({
            containerId: 'listokWidgetContainer',
            configId: '91afda9e057d0c742cda59a22cd5bdf4',
            onAuth: function(userData) {
                console.log('‚úÖ –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω');
            },
            onLoad: function() {
                console.log('‚úÖ WAPI –∑–∞–≥—Ä—É–∂–µ–Ω');
            }
        });
    }
}

function openTelegramBot() {
    openLink('https://t.me/DreamTeamStudio_Bot');
}

// –ó–∞–≥—Ä—É–∑–∫–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
document.addEventListener('DOMContentLoaded', function() {
    console.log('üìÑ –°—Ç—Ä–∞–Ω–∏—Ü–∞ –∑–∞–≥—Ä—É–∂–µ–Ω–∞');
    createStars();
    initWapiAuth();
    
    // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è —Ç—Ä–µ–∫–µ—Ä–∞
    loadTrackerData();
    
    // –ü—Ä–æ–≤–µ—Ä—è–µ–º –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å –≥–µ–æ–ª–æ–∫–∞—Ü–∏–∏
    if (navigator.geolocation) {
        navigator.geolocation.getCurrentPosition(
            () => {
                trackerState.hasGeolocation = true;
                document.getElementById('gpsStatus').textContent = 'üìç GPS: –¥–æ—Å—Ç—É–ø–µ–Ω';
                document.getElementById('permissionButton').style.display = 'none';
            },
            () => {
                // GPS –Ω–µ –¥–æ—Å—Ç—É–ø–µ–Ω, –ø–æ–∫–∞–∑—ã–≤–∞–µ–º –∫–Ω–æ–ø–∫—É
                document.getElementById('permissionButton').style.display = 'block';
            },
            { timeout: 2000, maximumAge: 0 }
        );
    }
    
    console.log('üöÄ Mini App –≥–æ—Ç–æ–≤ –∫ —Ä–∞–±–æ—Ç–µ');
});

// –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –±–ª–æ–∫–∏—Ä–æ–≤–∫–∞ —Å–≤–∞–π–ø–æ–≤
document.addEventListener('touchmove', function(e) {
    if (e.scale !== 1) {
        e.preventDefault();
    }
}, { passive: false });

// –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –ø–æ–ª–Ω–æ—ç–∫—Ä–∞–Ω–Ω–æ–≥–æ —Ä–µ–∂–∏–º–∞
setInterval(function() {
    if (typeof Telegram !== 'undefined' && Telegram.WebApp) {
        if (!Telegram.WebApp.isExpanded) {
            Telegram.WebApp.expand();
            Telegram.WebApp.disableVerticalSwipes();
        }
    }
}, 1000);
</script>
</body>
</html>
