<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <!-- –í–ê–ñ–ù–û: –ù–æ–≤—ã–µ –º–µ—Ç–∞—Ç–µ–≥–∏ –¥–ª—è Mini Apps 2.0 -->
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    <meta name="telegram:use_fullscreen" content="true">
    
    <title>üå∏ Dream Lady</title>
    
    <!-- –ù–û–í–´–ô TELEGRAM SDK –¥–ª—è Mini Apps 2.0 -->
    <script src="https://telegram.org/js/telegram-web-app.js?2"></script>
    
    <!-- –í–∞—à WAPI -->
    <script src="https://intgr91afda9e057d0c742cda59a22cd5bdf4.listokcrm.ru/wapi/script"></script>
    <div id="listokWidgetContainer"></div>
    
    <link href="https://fonts.googleapis.com/css2?family=Cormorant:wght@300;400;500;600&family=Inter:wght@200;300;400;500&display=swap" rel="stylesheet">
    
    <style>
        /* –ù–û–í–´–ï –°–¢–ò–õ–ò –î–õ–Ø MINI APPS 2.0 */
        :root {
            --gold: #C6A16E;
            --deep-navy: #1A1F2B;
            --soft-white: #F8F5F2;
            --light-gold: #E8D9C5;
            --graphite: #2A2F3B;
        }
        
        /* –û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û: –°–±—Ä–æ—Å –¥–ª—è –ø–æ–ª–Ω–æ–≥–æ —ç–∫—Ä–∞–Ω–∞ */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            -webkit-tap-highlight-color: transparent;
        }
        
        /* –ó–ê–ù–ò–ú–ê–ï–ú –í–ï–°–¨ –≠–ö–†–ê–ù */
        html, body {
            width: 100%;
            height: 100%;
            overflow: hidden;
            background: var(--deep-navy);
            color: var(--soft-white);
        }
        
        /* –û–°–ù–û–í–ù–û–ô –ö–û–ù–¢–ï–ô–ù–ï–† */
        .telegram-miniapp {
            width: 100%;
            height: 100vh;
            height: -webkit-fill-available;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: flex-start;
            padding: 10px;
            overflow-y: auto;
            -webkit-overflow-scrolling: touch;
        }
        
        /* SAFE AREA –¥–ª—è iPhone */
        @supports (padding: max(0px)) {
            .telegram-miniapp {
                padding-top: max(10px, env(safe-area-inset-top));
                padding-bottom: max(10px, env(safe-area-inset-bottom));
                padding-left: max(10px, env(safe-area-inset-left));
                padding-right: max(10px, env(safe-area-inset-right));
            }
        }
        
        /* –í–∞—à–∏ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ —Å—Ç–∏–ª–∏ –æ—Å—Ç–∞—é—Ç—Å—è –Ω–∏–∂–µ */
        /* [–í–°–¢–ê–í–¨–¢–ï –°–Æ–î–ê –í–ï–°–¨ –í–ê–® CSS] */
        
    </style>
</head>
<body>
    <div class="telegram-miniapp">
        <!-- –í–ê–® –°–£–©–ï–°–¢–í–£–Æ–©–ò–ô HTML –ö–û–î -->
        <!-- [–í–°–¢–ê–í–¨–¢–ï –°–Æ–î–ê –í–ï–°–¨ –í–ê–® HTML] -->
    </div>
    
    <script>
        // ============================================
        // MINI APPS 2.0 API - –ü–û–õ–ù–û–≠–ö–†–ê–ù–ù–´–ô –†–ï–ñ–ò–ú
        // ============================================
        
        console.log('üöÄ –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è Mini Apps 2.0...');
        
        // –ü—Ä–æ–≤–µ—Ä—è–µ–º, —á—Ç–æ –∑–∞–≥—Ä—É–∑–∏–ª—Å—è –Ω–æ–≤—ã–π SDK
        if (typeof Telegram !== 'undefined' && Telegram.WebApp) {
            console.log('‚úÖ Telegram Web Apps 2.0 SDK –∑–∞–≥—Ä—É–∂–µ–Ω');
            
            // 1. –ò–ù–ò–¶–ò–ê–õ–ò–ó–ê–¶–ò–Ø
            Telegram.WebApp.ready();
            
            // 2. –ü–û–õ–ù–û–≠–ö–†–ê–ù–ù–´–ô –†–ï–ñ–ò–ú (Mini Apps 2.0)
            Telegram.WebApp.expand();
            
            // 3. –ù–ê–°–¢–†–û–ô–ö–ê –í–ù–ï–®–ù–ï–ì–û –í–ò–î–ê
            Telegram.WebApp.setHeaderColor('#1A1F2B');
            Telegram.WebApp.setBackgroundColor('#1A1F2B');
            Telegram.WebApp.enableClosingConfirmation();
            
            // 4. –ü–†–û–í–ï–†–Ø–ï–ú –í–ï–†–°–ò–Æ
            console.log('üì± –í–µ—Ä—Å–∏—è WebApp:', Telegram.WebApp.version);
            console.log('üñ•  –ü–ª–∞—Ç—Ñ–æ—Ä–º–∞:', Telegram.WebApp.platform);
            console.log('üìè –í—ã—Å–æ—Ç–∞ —ç–∫—Ä–∞–Ω–∞:', Telegram.WebApp.viewportHeight);
            console.log('üîµ –ü–æ–ª–Ω—ã–π —ç–∫—Ä–∞–Ω:', Telegram.WebApp.isExpanded);
            
            // 5. –ü–†–û–í–ï–†–Ø–ï–ú –î–û–°–¢–£–ü–ù–´–ï –§–£–ù–ö–¶–ò–ò
            if (Telegram.WebApp.isExpanded) {
                console.log('‚úÖ –ü–æ–ª–Ω–æ—ç–∫—Ä–∞–Ω–Ω—ã–π —Ä–µ–∂–∏–º –ê–ö–¢–ò–í–ò–†–û–í–ê–ù!');
                document.documentElement.style.height = Telegram.WebApp.viewportHeight + 'px';
                document.body.style.height = Telegram.WebApp.viewportHeight + 'px';
            } else {
                console.warn('‚ö†Ô∏è –ü–æ–ª–Ω–æ—ç–∫—Ä–∞–Ω–Ω—ã–π —Ä–µ–∂–∏–º –ù–ï –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω');
                console.log('‚ÑπÔ∏è –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –≤ @BotFather');
            }
            
            // 6. –ö–ù–û–ü–ö–ê "–ù–ê–ó–ê–î"
            Telegram.WebApp.BackButton.show();
            Telegram.WebApp.BackButton.onClick(function() {
                Telegram.WebApp.close();
            });
            
            // 7. –û–¢–ö–õ–Æ–ß–ê–ï–ú –°–í–ê–ô–ü–´ TELEGRAM
            Telegram.WebApp.disableVerticalSwipes();
            
        } else {
            console.error('‚ùå Telegram WebApp SDK –Ω–µ –∑–∞–≥—Ä—É–∂–µ–Ω!');
        }
        
        // 8. –í–ê–®–ò –§–£–ù–ö–¶–ò–ò (–±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π)
        // openLink, openPriceModal –∏ —Ç.–¥.
        
        // 9. –ê–î–ê–ü–¢–ê–¶–ò–Ø –ü–û–î –ò–ó–ú–ï–ù–ï–ù–ò–ï –†–ê–ó–ú–ï–†–û–í
        window.addEventListener('resize', function() {
            if (typeof Telegram !== 'undefined' && Telegram.WebApp) {
                document.documentElement.style.height = Telegram.WebApp.viewportHeight + 'px';
                document.body.style.height = Telegram.WebApp.viewportHeight + 'px';
            }
        });
        
        // 10. –ó–ê–ì–†–£–ó–ö–ê –°–¢–†–ê–ù–ò–¶–´
        document.addEventListener('DOMContentLoaded', function() {
            console.log('üìÑ –°—Ç—Ä–∞–Ω–∏—Ü–∞ –∑–∞–≥—Ä—É–∂–µ–Ω–∞');
            
            // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è WAPI
            if (typeof Listok !== 'undefined') {
                Listok.init({
                    containerId: 'listokWidgetContainer',
                    configId: '91afda9e057d0c742cda59a22cd5bdf4',
                    onAuth: function(userData) {
                        console.log('‚úÖ –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω');
                    },
                    onLoad: function() {
                        console.log('‚úÖ WAPI –∑–∞–≥—Ä—É–∂–µ–Ω');
                    }
                });
            }
            
            // –§–∏–Ω–∞–ª—å–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞
            setTimeout(function() {
                console.log('üéØ Mini App –≥–æ—Ç–æ–≤ –∫ —Ä–∞–±–æ—Ç–µ');
                console.log('üì± –†–∞–∑–º–µ—Ä –æ–∫–Ω–∞:', window.innerWidth + 'x' + window.innerHeight);
                
                // –ï—Å–ª–∏ –≤—Å–µ –µ—â–µ –Ω–µ –ø–æ–ª–Ω—ã–π —ç–∫—Ä–∞–Ω, –ø–æ–∫–∞–∑—ã–≤–∞–µ–º –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—é
                if (window.innerHeight < 700) {
                    console.warn('‚ö†Ô∏è –í–æ–∑–º–æ–∂–Ω–æ, –Ω—É–∂–Ω–∞ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –≤ @BotFather');
                }
            }, 1000);
        });
        
    </script>
</body>
</html>
